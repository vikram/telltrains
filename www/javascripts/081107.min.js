(function(){if(typeof jQuery!="undefined"){var _jQuery=jQuery}var jQuery=window.jQuery=function(selector,context){return this instanceof jQuery?this.init(selector,context):new jQuery(selector,context)};if(typeof $!="undefined"){var _$=$}window.$=jQuery;var quickExpr=/^[^<]*(<(.|\s)+>)[^>]*$|^#(\w+)$/;jQuery.fn=jQuery.prototype={init:function(selector,context){selector=selector||document;if(typeof selector=="string"){var m=quickExpr.exec(selector);if(m&&(m[1]||!context)){if(m[1]){selector=jQuery.clean([m[1]],context)}else{var tmp=document.getElementById(m[3]);if(tmp){if(tmp.id!=m[3]){return jQuery().find(selector)}else{this[0]=tmp;this.length=1;return this}}else{selector=[]}}}else{return new jQuery(context).find(selector)}}else{if(jQuery.isFunction(selector)){return new jQuery(document)[jQuery.fn.ready?"ready":"load"](selector)}}return this.setArray(selector.constructor==Array&&selector||(selector.jquery||selector.length&&selector!=window&&!selector.nodeType&&selector[0]!=undefined&&selector[0].nodeType)&&jQuery.makeArray(selector)||[selector])},jquery:"1.2.1",size:function(){return this.length},length:0,get:function(num){return num==undefined?jQuery.makeArray(this):this[num]},pushStack:function(a){var ret=jQuery(a);ret.prevObject=this;return ret},setArray:function(a){this.length=0;Array.prototype.push.apply(this,a);return this},each:function(fn,args){return jQuery.each(this,fn,args)},index:function(obj){var pos=-1;this.each(function(i){if(this==obj){pos=i}});return pos},attr:function(key,value,type){var obj=key;if(key.constructor==String){if(value==undefined){return this.length&&jQuery[type||"attr"](this[0],key)||undefined}else{obj={};obj[key]=value}}return this.each(function(index){for(var prop in obj){jQuery.attr(type?this.style:this,prop,jQuery.prop(this,obj[prop],type,index,prop))}})},css:function(key,value){return this.attr(key,value,"curCSS")},text:function(e){if(typeof e!="object"&&e!=null){return this.empty().append(document.createTextNode(e))}var t="";jQuery.each(e||this,function(){jQuery.each(this.childNodes,function(){if(this.nodeType!=8){t+=this.nodeType!=1?this.nodeValue:jQuery.fn.text([this])}})});return t},wrapAll:function(html){if(this[0]){jQuery(html,this[0].ownerDocument).clone().insertBefore(this[0]).map(function(){var elem=this;while(elem.firstChild){elem=elem.firstChild}return elem}).append(this)}return this},wrapInner:function(html){return this.each(function(){jQuery(this).contents().wrapAll(html)})},wrap:function(html){return this.each(function(){jQuery(this).wrapAll(html)})},append:function(){return this.domManip(arguments,true,1,function(a){this.appendChild(a)})},prepend:function(){return this.domManip(arguments,true,-1,function(a){this.insertBefore(a,this.firstChild)})},before:function(){return this.domManip(arguments,false,1,function(a){this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,false,-1,function(a){this.parentNode.insertBefore(a,this.nextSibling)})},end:function(){return this.prevObject||jQuery([])},find:function(t){var data=jQuery.map(this,function(a){return jQuery.find(t,a)});return this.pushStack(/[^+>] [^+>]/.test(t)||t.indexOf("..")>-1?jQuery.unique(data):data)},clone:function(events){var ret=this.map(function(){return this.outerHTML?jQuery(this.outerHTML)[0]:this.cloneNode(true)});var clone=ret.find("*").andSelf().each(function(){if(this[expando]!=undefined){this[expando]=null}});if(events===true){this.find("*").andSelf().each(function(i){var events=jQuery.data(this,"events");for(var type in events){for(var handler in events[type]){jQuery.event.add(clone[i],type,events[type][handler],events[type][handler].data)}}})}return ret},filter:function(t){return this.pushStack(jQuery.isFunction(t)&&jQuery.grep(this,function(el,index){return t.apply(el,[index])})||jQuery.multiFilter(t,this))},not:function(t){return this.pushStack(t.constructor==String&&jQuery.multiFilter(t,this,true)||jQuery.grep(this,function(a){return(t.constructor==Array||t.jquery)?jQuery.inArray(a,t)<0:a!=t}))},add:function(t){return this.pushStack(jQuery.merge(this.get(),t.constructor==String?jQuery(t).get():t.length!=undefined&&(!t.nodeName||jQuery.nodeName(t,"form"))?t:[t]))},is:function(expr){return expr?jQuery.multiFilter(expr,this).length>0:false},hasClass:function(expr){return this.is("."+expr)},val:function(val){if(val==undefined){if(this.length){var elem=this[0];if(jQuery.nodeName(elem,"select")){var index=elem.selectedIndex,a=[],options=elem.options,one=elem.type=="select-one";if(index<0){return null}for(var i=one?index:0,max=one?index+1:options.length;i<max;i++){var option=options[i];if(option.selected){var val=jQuery.browser.msie&&!option.attributes["value"].specified?option.text:option.value;if(one){return val}a.push(val)}}return a}else{return this[0].value.replace(/\r/g,"")}}}else{return this.each(function(){if(val.constructor==Array&&/radio|checkbox/.test(this.type)){this.checked=(jQuery.inArray(this.value,val)>=0||jQuery.inArray(this.name,val)>=0)}else{if(jQuery.nodeName(this,"select")){var tmp=val.constructor==Array?val:[val];jQuery("option",this).each(function(){this.selected=(jQuery.inArray(this.value,tmp)>=0||jQuery.inArray(this.text,tmp)>=0)});if(!tmp.length){this.selectedIndex=-1}}else{this.value=val}}})}},html:function(val){return val==undefined?(this.length?this[0].innerHTML:null):this.empty().append(val)},replaceWith:function(val){return this.after(val).remove()},eq:function(i){return this.slice(i,i+1)},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments))},map:function(fn){return this.pushStack(jQuery.map(this,function(elem,i){return fn.call(elem,i,elem)}))},andSelf:function(){return this.add(this.prevObject)},domManip:function(args,table,dir,fn){var clone=this.length>1,a;return this.each(function(){if(!a){a=jQuery.clean(args,this.ownerDocument);if(dir<0){a.reverse()}}var obj=this;if(table&&jQuery.nodeName(this,"table")&&jQuery.nodeName(a[0],"tr")){obj=this.getElementsByTagName("tbody")[0]||this.appendChild(document.createElement("tbody"))}jQuery.each(a,function(){var elem=clone?this.cloneNode(true):this;if(!evalScript(0,elem)){fn.call(obj,elem)}})})}};function evalScript(i,elem){var script=jQuery.nodeName(elem,"script");if(script){if(elem.src){jQuery.ajax({url:elem.src,async:false,dataType:"script"})}else{jQuery.globalEval(elem.text||elem.textContent||elem.innerHTML||"")}if(elem.parentNode){elem.parentNode.removeChild(elem)}}else{if(elem.nodeType==1){jQuery("script",elem).each(evalScript)}}return script}jQuery.extend=jQuery.fn.extend=function(){var target=arguments[0]||{},a=1,al=arguments.length,deep=false;if(target.constructor==Boolean){deep=target;target=arguments[1]||{}}if(al==1){target=this;a=0}var prop;for(;a<al;a++){if((prop=arguments[a])!=null){for(var i in prop){if(target==prop[i]){continue}if(deep&&typeof prop[i]=="object"&&target[i]){jQuery.extend(target[i],prop[i])}else{if(prop[i]!=undefined){target[i]=prop[i]}}}}}return target};var expando="jQuery"+(new Date()).getTime(),uuid=0,win={};jQuery.extend({noConflict:function(deep){window.$=_$;if(deep){window.jQuery=_jQuery}return jQuery},isFunction:function(fn){return !!fn&&typeof fn!="string"&&!fn.nodeName&&fn.constructor!=Array&&/function/i.test(fn+"")},isXMLDoc:function(elem){return elem.documentElement&&!elem.body||elem.tagName&&elem.ownerDocument&&!elem.ownerDocument.body},globalEval:function(data){data=jQuery.trim(data);if(data){if(window.execScript){window.execScript(data)}else{if(jQuery.browser.safari){window.setTimeout(data,0)}else{eval.call(window,data)}}}},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()==name.toUpperCase()},cache:{},data:function(elem,name,data){elem=elem==window?win:elem;var id=elem[expando];if(!id){id=elem[expando]=++uuid}if(name&&!jQuery.cache[id]){jQuery.cache[id]={}}if(data!=undefined){jQuery.cache[id][name]=data}return name?jQuery.cache[id][name]:id},removeData:function(elem,name){elem=elem==window?win:elem;var id=elem[expando];if(name){if(jQuery.cache[id]){delete jQuery.cache[id][name];name="";for(name in jQuery.cache[id]){break}if(!name){jQuery.removeData(elem)}}}else{try{delete elem[expando]}catch(e){if(elem.removeAttribute){elem.removeAttribute(expando)}}delete jQuery.cache[id]}},each:function(obj,fn,args){if(args){if(obj.length==undefined){for(var i in obj){fn.apply(obj[i],args)}}else{for(var i=0,ol=obj.length;i<ol;i++){if(fn.apply(obj[i],args)===false){break}}}}else{if(obj.length==undefined){for(var i in obj){fn.call(obj[i],i,obj[i])}}else{for(var i=0,ol=obj.length,val=obj[0];i<ol&&fn.call(val,i,val)!==false;val=obj[++i]){}}}return obj},prop:function(elem,value,type,index,prop){if(jQuery.isFunction(value)){value=value.call(elem,[index])}var exclude=/z-?index|font-?weight|opacity|zoom|line-?height/i;return value&&value.constructor==Number&&type=="curCSS"&&!exclude.test(prop)?value+"px":value},className:{add:function(elem,c){jQuery.each((c||"").split(/\s+/),function(i,cur){if(!jQuery.className.has(elem.className,cur)){elem.className+=(elem.className?" ":"")+cur}})},remove:function(elem,c){elem.className=c!=undefined?jQuery.grep(elem.className.split(/\s+/),function(cur){return !jQuery.className.has(c,cur)}).join(" "):""},has:function(t,c){return jQuery.inArray(c,(t.className||t).toString().split(/\s+/))>-1}},swap:function(e,o,f){for(var i in o){e.style["old"+i]=e.style[i];e.style[i]=o[i]}f.apply(e,[]);for(var i in o){e.style[i]=e.style["old"+i]}},css:function(e,p){if(p=="height"||p=="width"){var old={},oHeight,oWidth,d=["Top","Bottom","Right","Left"];jQuery.each(d,function(){old["padding"+this]=0;old["border"+this+"Width"]=0});jQuery.swap(e,old,function(){if(jQuery(e).is(":visible")){oHeight=e.offsetHeight;oWidth=e.offsetWidth}else{e=jQuery(e.cloneNode(true)).find(":radio").removeAttr("checked").end().css({visibility:"hidden",position:"absolute",display:"block",right:"0",left:"0"}).appendTo(e.parentNode)[0];var parPos=jQuery.css(e.parentNode,"position")||"static";if(parPos=="static"){e.parentNode.style.position="relative"}oHeight=e.clientHeight;oWidth=e.clientWidth;if(parPos=="static"){e.parentNode.style.position="static"}e.parentNode.removeChild(e)}});return p=="height"?oHeight:oWidth}return jQuery.curCSS(e,p)},curCSS:function(elem,prop,force){var ret,stack=[],swap=[];function color(a){if(!jQuery.browser.safari){return false}var ret=document.defaultView.getComputedStyle(a,null);return !ret||ret.getPropertyValue("color")==""}if(prop=="opacity"&&jQuery.browser.msie){ret=jQuery.attr(elem.style,"opacity");return ret==""?"1":ret}if(prop.match(/float/i)){prop=styleFloat}if(!force&&elem.style[prop]){ret=elem.style[prop]}else{if(document.defaultView&&document.defaultView.getComputedStyle){if(prop.match(/float/i)){prop="float"}prop=prop.replace(/([A-Z])/g,"-$1").toLowerCase();var cur=document.defaultView.getComputedStyle(elem,null);if(cur&&!color(elem)){ret=cur.getPropertyValue(prop)}else{for(var a=elem;a&&color(a);a=a.parentNode){stack.unshift(a)}for(a=0;a<stack.length;a++){if(color(stack[a])){swap[a]=stack[a].style.display;stack[a].style.display="block"}}ret=prop=="display"&&swap[stack.length-1]!=null?"none":document.defaultView.getComputedStyle(elem,null).getPropertyValue(prop)||"";for(a=0;a<swap.length;a++){if(swap[a]!=null){stack[a].style.display=swap[a]}}}if(prop=="opacity"&&ret==""){ret="1"}}else{if(elem.currentStyle){var newProp=prop.replace(/\-(\w)/g,function(m,c){return c.toUpperCase()});ret=elem.currentStyle[prop]||elem.currentStyle[newProp];if(!/^\d+(px)?$/i.test(ret)&&/^\d/.test(ret)){var style=elem.style.left;var runtimeStyle=elem.runtimeStyle.left;elem.runtimeStyle.left=elem.currentStyle.left;elem.style.left=ret||0;ret=elem.style.pixelLeft+"px";elem.style.left=style;elem.runtimeStyle.left=runtimeStyle}}}}return ret},clean:function(a,doc){var r=[];doc=doc||document;jQuery.each(a,function(i,arg){if(!arg){return }if(arg.constructor==Number){arg=arg.toString()}if(typeof arg=="string"){arg=arg.replace(/(<(\w+)[^>]*?)\/>/g,function(m,all,tag){return tag.match(/^(abbr|br|col|img|input|link|meta|param|hr|area)$/i)?m:all+"></"+tag+">"});var s=jQuery.trim(arg).toLowerCase(),div=doc.createElement("div"),tb=[];var wrap=!s.indexOf("<opt")&&[1,"<select>","</select>"]||!s.indexOf("<leg")&&[1,"<fieldset>","</fieldset>"]||s.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,"<table>","</table>"]||!s.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!s.indexOf("<td")||!s.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||!s.indexOf("<col")&&[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]||jQuery.browser.msie&&[1,"div<div>","</div>"]||[0,"",""];div.innerHTML=wrap[1]+arg+wrap[2];while(wrap[0]--){div=div.lastChild}if(jQuery.browser.msie){if(!s.indexOf("<table")&&s.indexOf("<tbody")<0){tb=div.firstChild&&div.firstChild.childNodes}else{if(wrap[1]=="<table>"&&s.indexOf("<tbody")<0){tb=div.childNodes}}for(var n=tb.length-1;n>=0;--n){if(jQuery.nodeName(tb[n],"tbody")&&!tb[n].childNodes.length){tb[n].parentNode.removeChild(tb[n])}}if(/^\s/.test(arg)){div.insertBefore(doc.createTextNode(arg.match(/^\s*/)[0]),div.firstChild)}}arg=jQuery.makeArray(div.childNodes)}if(0===arg.length&&(!jQuery.nodeName(arg,"form")&&!jQuery.nodeName(arg,"select"))){return }if(arg[0]==undefined||jQuery.nodeName(arg,"form")||arg.options){r.push(arg)}else{r=jQuery.merge(r,arg)}});return r},attr:function(elem,name,value){var fix=jQuery.isXMLDoc(elem)?{}:jQuery.props;if(name=="selected"&&jQuery.browser.safari){elem.parentNode.selectedIndex}if(fix[name]){if(value!=undefined){elem[fix[name]]=value}return elem[fix[name]]}else{if(jQuery.browser.msie&&name=="style"){return jQuery.attr(elem.style,"cssText",value)}else{if(value==undefined&&jQuery.browser.msie&&jQuery.nodeName(elem,"form")&&(name=="action"||name=="method")){return elem.getAttributeNode(name).nodeValue}else{if(elem.tagName){if(value!=undefined){if(name=="type"&&jQuery.nodeName(elem,"input")&&elem.parentNode){throw"type property can't be changed"}elem.setAttribute(name,value)}if(jQuery.browser.msie&&/href|src/.test(name)&&!jQuery.isXMLDoc(elem)){return elem.getAttribute(name,2)}return elem.getAttribute(name)}else{if(name=="opacity"&&jQuery.browser.msie){if(value!=undefined){elem.zoom=1;elem.filter=(elem.filter||"").replace(/alpha\([^)]*\)/,"")+(parseFloat(value).toString()=="NaN"?"":"alpha(opacity="+value*100+")")}return elem.filter?(parseFloat(elem.filter.match(/opacity=([^)]*)/)[1])/100).toString():""}name=name.replace(/-([a-z])/ig,function(z,b){return b.toUpperCase()});if(value!=undefined){elem[name]=value}return elem[name]}}}}},trim:function(t){return(t||"").replace(/^\s+|\s+$/g,"")},makeArray:function(a){var r=[];if(typeof a!="array"){for(var i=0,al=a.length;i<al;i++){r.push(a[i])}}else{r=a.slice(0)}return r},inArray:function(b,a){for(var i=0,al=a.length;i<al;i++){if(a[i]==b){return i}}return -1},merge:function(first,second){if(jQuery.browser.msie){for(var i=0;second[i];i++){if(second[i].nodeType!=8){first.push(second[i])}}}else{for(var i=0;second[i];i++){first.push(second[i])}}return first},unique:function(first){var r=[],done={};try{for(var i=0,fl=first.length;i<fl;i++){var id=jQuery.data(first[i]);if(!done[id]){done[id]=true;r.push(first[i])}}}catch(e){r=first}return r},grep:function(elems,fn,inv){if(typeof fn=="string"){fn=eval("false||function(a,i){return "+fn+"}")}var result=[];for(var i=0,el=elems.length;i<el;i++){if(!inv&&fn(elems[i],i)||inv&&!fn(elems[i],i)){result.push(elems[i])}}return result},map:function(elems,fn){if(typeof fn=="string"){fn=eval("false||function(a){return "+fn+"}")}var result=[];for(var i=0,el=elems.length;i<el;i++){var val=fn(elems[i],i);if(val!==null&&val!=undefined){if(val.constructor!=Array){val=[val]}result=result.concat(val)}}return result}});var userAgent=navigator.userAgent.toLowerCase();jQuery.browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)};var styleFloat=jQuery.browser.msie?"styleFloat":"cssFloat";jQuery.extend({boxModel:!jQuery.browser.msie||document.compatMode=="CSS1Compat",styleFloat:jQuery.browser.msie?"styleFloat":"cssFloat",props:{"for":"htmlFor","class":"className","float":styleFloat,cssFloat:styleFloat,styleFloat:styleFloat,innerHTML:"innerHTML",className:"className",value:"value",disabled:"disabled",checked:"checked",readonly:"readOnly",selected:"selected",maxlength:"maxLength"}});jQuery.each({parent:"a.parentNode",parents:"jQuery.dir(a,'parentNode')",next:"jQuery.nth(a,2,'nextSibling')",prev:"jQuery.nth(a,2,'previousSibling')",nextAll:"jQuery.dir(a,'nextSibling')",prevAll:"jQuery.dir(a,'previousSibling')",siblings:"jQuery.sibling(a.parentNode.firstChild,a)",children:"jQuery.sibling(a.firstChild)",contents:"jQuery.nodeName(a,'iframe')?a.contentDocument||a.contentWindow.document:jQuery.makeArray(a.childNodes)"},function(i,n){jQuery.fn[i]=function(a){var ret=jQuery.map(this,n);if(a&&typeof a=="string"){ret=jQuery.multiFilter(a,ret)}return this.pushStack(jQuery.unique(ret))}});jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(i,n){jQuery.fn[i]=function(){var a=arguments;return this.each(function(){for(var j=0,al=a.length;j<al;j++){jQuery(a[j])[n](this)}})}});jQuery.each({removeAttr:function(key){jQuery.attr(this,key,"");this.removeAttribute(key)},addClass:function(c){jQuery.className.add(this,c)},removeClass:function(c){jQuery.className.remove(this,c)},toggleClass:function(c){jQuery.className[jQuery.className.has(this,c)?"remove":"add"](this,c)},remove:function(a){if(!a||jQuery.filter(a,[this]).r.length){jQuery.removeData(this);this.parentNode.removeChild(this)}},empty:function(){jQuery("*",this).each(function(){jQuery.removeData(this)});while(this.firstChild){this.removeChild(this.firstChild)}}},function(i,n){jQuery.fn[i]=function(){return this.each(n,arguments)}});jQuery.each(["Height","Width"],function(i,name){var n=name.toLowerCase();jQuery.fn[n]=function(h){return this[0]==window?jQuery.browser.safari&&self["inner"+name]||jQuery.boxModel&&Math.max(document.documentElement["client"+name],document.body["client"+name])||document.body["client"+name]:this[0]==document?Math.max(document.body["scroll"+name],document.body["offset"+name]):h==undefined?(this.length?jQuery.css(this[0],n):null):this.css(n,h.constructor==String?h:h+"px")}});var chars=jQuery.browser.safari&&parseInt(jQuery.browser.version)<417?"(?:[\\w*_-]|\\\\.)":"(?:[\\wĨ-￿*_-]|\\\\.)",quickChild=new RegExp("^>\\s*("+chars+"+)"),quickID=new RegExp("^("+chars+"+)(#)("+chars+"+)"),quickClass=new RegExp("^([#.]?)("+chars+"*)");jQuery.extend({expr:{"":"m[2]=='*'||jQuery.nodeName(a,m[2])","#":"a.getAttribute('id')==m[2]",":":{lt:"i<m[3]-0",gt:"i>m[3]-0",nth:"m[3]-0==i",eq:"m[3]-0==i",first:"i==0",last:"i==r.length-1",even:"i%2==0",odd:"i%2","first-child":"a.parentNode.getElementsByTagName('*')[0]==a","last-child":"jQuery.nth(a.parentNode.lastChild,1,'previousSibling')==a","only-child":"!jQuery.nth(a.parentNode.lastChild,2,'previousSibling')",parent:"a.firstChild",empty:"!a.firstChild",contains:"(a.textContent||a.innerText||jQuery(a).text()||'').indexOf(m[3])>=0",visible:"\"hidden\"!=a.type&&jQuery.css(a,\"display\")!=\"none\"&&jQuery.css(a,\"visibility\")!=\"hidden\"",hidden:"\"hidden\"==a.type||jQuery.css(a,\"display\")==\"none\"||jQuery.css(a,\"visibility\")==\"hidden\"",enabled:"!a.disabled",disabled:"a.disabled",checked:"a.checked",selected:"a.selected||jQuery.attr(a,'selected')",text:"'text'==a.type",radio:"'radio'==a.type",checkbox:"'checkbox'==a.type",file:"'file'==a.type",password:"'password'==a.type",submit:"'submit'==a.type",image:"'image'==a.type",reset:"'reset'==a.type",button:"\"button\"==a.type||jQuery.nodeName(a,\"button\")",input:"/input|select|textarea|button/i.test(a.nodeName)",has:"jQuery.find(m[3],a).length",header:"/h\\d/i.test(a.nodeName)",animated:"jQuery.grep(jQuery.timers,function(fn){return a==fn.elem;}).length"}},parse:[/^(\[) *@?([\w-]+) *([!*$^~=]*) *('?"?)(.*?)\4 *\]/,/^(:)([\w-]+)\("?'?(.*?(\(.*?\))?[^(]*?)"?'?\)/,new RegExp("^([:.#]*)("+chars+"+)")],multiFilter:function(expr,elems,not){var old,cur=[];while(expr&&expr!=old){old=expr;var f=jQuery.filter(expr,elems,not);expr=f.t.replace(/^\s*,\s*/,"");cur=not?elems=f.r:jQuery.merge(cur,f.r)}return cur},find:function(t,context){if(typeof t!="string"){return[t]}if(context&&!context.nodeType){context=null}context=context||document;var ret=[context],done=[],last;while(t&&last!=t){var r=[];last=t;t=jQuery.trim(t);var foundToken=false;var re=quickChild;var m=re.exec(t);if(m){var nodeName=m[1].toUpperCase();for(var i=0;ret[i];i++){for(var c=ret[i].firstChild;c;c=c.nextSibling){if(c.nodeType==1&&(nodeName=="*"||c.nodeName.toUpperCase()==nodeName.toUpperCase())){r.push(c)}}}ret=r;t=t.replace(re,"");if(t.indexOf(" ")==0){continue}foundToken=true}else{re=/^([>+~])\s*(\w*)/i;if((m=re.exec(t))!=null){r=[];var nodeName=m[2],merge={};m=m[1];for(var j=0,rl=ret.length;j<rl;j++){var n=m=="~"||m=="+"?ret[j].nextSibling:ret[j].firstChild;for(;n;n=n.nextSibling){if(n.nodeType==1){var id=jQuery.data(n);if(m=="~"&&merge[id]){break}if(!nodeName||n.nodeName.toUpperCase()==nodeName.toUpperCase()){if(m=="~"){merge[id]=true}r.push(n)}if(m=="+"){break}}}}ret=r;t=jQuery.trim(t.replace(re,""));foundToken=true}}if(t&&!foundToken){if(!t.indexOf(",")){if(context==ret[0]){ret.shift()}done=jQuery.merge(done,ret);r=ret=[context];t=" "+t.substr(1,t.length)}else{var re2=quickID;var m=re2.exec(t);if(m){m=[0,m[2],m[3],m[1]]}else{re2=quickClass;m=re2.exec(t)}m[2]=m[2].replace(/\\/g,"");var elem=ret[ret.length-1];if(m[1]=="#"&&elem&&elem.getElementById&&!jQuery.isXMLDoc(elem)){var oid=elem.getElementById(m[2]);if((jQuery.browser.msie||jQuery.browser.opera)&&oid&&typeof oid.id=="string"&&oid.id!=m[2]){oid=jQuery("[@id=\""+m[2]+"\"]",elem)[0]}ret=r=oid&&(!m[3]||jQuery.nodeName(oid,m[3]))?[oid]:[]}else{for(var i=0;ret[i];i++){var tag=m[1]=="#"&&m[3]?m[3]:m[1]!=""||m[0]==""?"*":m[2];if(tag=="*"&&ret[i].nodeName.toLowerCase()=="object"){tag="param"}r=jQuery.merge(r,ret[i].getElementsByTagName(tag))}if(m[1]=="."){r=jQuery.classFilter(r,m[2])}if(m[1]=="#"){var tmp=[];for(var i=0;r[i];i++){if(r[i].getAttribute("id")==m[2]){tmp=[r[i]];break}}r=tmp}ret=r}t=t.replace(re2,"")}}if(t){var val=jQuery.filter(t,r);ret=r=val.r;t=jQuery.trim(val.t)}}if(t){ret=[]}if(ret&&context==ret[0]){ret.shift()}done=jQuery.merge(done,ret);return done},classFilter:function(r,m,not){m=" "+m+" ";var tmp=[];for(var i=0;r[i];i++){var pass=(" "+r[i].className+" ").indexOf(m)>=0;if(!not&&pass||not&&!pass){tmp.push(r[i])}}return tmp},filter:function(t,r,not){var last;while(t&&t!=last){last=t;var p=jQuery.parse,m;for(var i=0;p[i];i++){m=p[i].exec(t);if(m){t=t.substring(m[0].length);m[2]=m[2].replace(/\\/g,"");break}}if(!m){break}if(m[1]==":"&&m[2]=="not"){r=jQuery.filter(m[3],r,true).r}else{if(m[1]=="."){r=jQuery.classFilter(r,m[2],not)}else{if(m[1]=="["){var tmp=[],type=m[3];for(var i=0,rl=r.length;i<rl;i++){var a=r[i],z=a[jQuery.props[m[2]]||m[2]];if(z==null||/href|src|selected/.test(m[2])){z=jQuery.attr(a,m[2])||""}if((type==""&&!!z||type=="="&&z==m[5]||type=="!="&&z!=m[5]||type=="^="&&z&&!z.indexOf(m[5])||type=="$="&&z.substr(z.length-m[5].length)==m[5]||(type=="*="||type=="~=")&&z.indexOf(m[5])>=0)^not){tmp.push(a)}}r=tmp}else{if(m[1]==":"&&m[2]=="nth-child"){var merge={},tmp=[],test=/(\d*)n\+?(\d*)/.exec(m[3]=="even"&&"2n"||m[3]=="odd"&&"2n+1"||!/\D/.test(m[3])&&"n+"+m[3]||m[3]),first=(test[1]||1)-0,last=test[2]-0;for(var i=0,rl=r.length;i<rl;i++){var node=r[i],parentNode=node.parentNode,id=jQuery.data(parentNode);if(!merge[id]){var c=1;for(var n=parentNode.firstChild;n;n=n.nextSibling){if(n.nodeType==1){n.nodeIndex=c++}}merge[id]=true}var add=false;if(first==1){if(last==0||node.nodeIndex==last){add=true}}else{if((node.nodeIndex+last)%first==0){add=true}}if(add^not){tmp.push(node)}}r=tmp}else{var f=jQuery.expr[m[1]];if(typeof f!="string"){f=jQuery.expr[m[1]][m[2]]}f=eval("false||function(a,i){return "+f+"}");r=jQuery.grep(r,f,not)}}}}}return{r:r,t:t}},dir:function(elem,dir){var matched=[];var cur=elem[dir];while(cur&&cur!=document){if(cur.nodeType==1){matched.push(cur)}cur=cur[dir]}return matched},nth:function(cur,result,dir,elem){result=result||1;var num=0;for(;cur;cur=cur[dir]){if(cur.nodeType==1&&++num==result){break}}return cur},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType==1&&(!elem||n!=elem)){r.push(n)}}return r}});jQuery.event={add:function(element,type,handler,data){if(jQuery.browser.msie&&element.setInterval!=undefined){element=window}if(!handler.guid){handler.guid=this.guid++}if(data!=undefined){var fn=handler;handler=function(){return fn.apply(this,arguments)};handler.data=data;handler.guid=fn.guid}var parts=type.split(".");type=parts[0];handler.type=parts[1];var events=jQuery.data(element,"events")||jQuery.data(element,"events",{});var handle=jQuery.data(element,"handle",function(){var val;if(typeof jQuery=="undefined"||jQuery.event.triggered){return val}val=jQuery.event.handle.apply(element,arguments);return val});var handlers=events[type];if(!handlers){handlers=events[type]={};if(element.addEventListener){element.addEventListener(type,handle,false)}else{element.attachEvent("on"+type,handle)}}handlers[handler.guid]=handler;this.global[type]=true},guid:1,global:{},remove:function(element,type,handler){var events=jQuery.data(element,"events"),ret,index;if(typeof type=="string"){var parts=type.split(".");type=parts[0]}if(events){if(type&&type.type){handler=type.handler;type=type.type}if(!type){for(type in events){this.remove(element,type)}}else{if(events[type]){if(handler){delete events[type][handler.guid]}else{for(handler in events[type]){if(!parts[1]||events[type][handler].type==parts[1]){delete events[type][handler]}}}for(ret in events[type]){break}if(!ret){if(element.removeEventListener){element.removeEventListener(type,jQuery.data(element,"handle"),false)}else{element.detachEvent("on"+type,jQuery.data(element,"handle"))}ret=null;delete events[type]}}}for(ret in events){break}if(!ret){jQuery.removeData(element,"events");jQuery.removeData(element,"handle")}}},trigger:function(type,data,element,donative,extra){data=jQuery.makeArray(data||[]);if(!element){if(this.global[type]){jQuery("*").add([window,document]).trigger(type,data)}}else{var val,ret,fn=jQuery.isFunction(element[type]||null),evt=!data[0]||!data[0].preventDefault;if(evt){data.unshift(this.fix({type:type,target:element}))}data[0].type=type;if(jQuery.isFunction(jQuery.data(element,"handle"))){val=jQuery.data(element,"handle").apply(element,data)}if(!fn&&element["on"+type]&&element["on"+type].apply(element,data)===false){val=false}if(evt){data.shift()}if(extra&&extra.apply(element,data)===false){val=false}if(fn&&donative!==false&&val!==false&&!(jQuery.nodeName(element,"a")&&type=="click")){this.triggered=true;element[type]()}this.triggered=false}return val},handle:function(event){var val;event=jQuery.event.fix(event||window.event||{});var parts=event.type.split(".");event.type=parts[0];var c=jQuery.data(this,"events")&&jQuery.data(this,"events")[event.type],args=Array.prototype.slice.call(arguments,1);args.unshift(event);for(var j in c){args[0].handler=c[j];args[0].data=c[j].data;if(!parts[1]||c[j].type==parts[1]){var tmp=c[j].apply(this,args);if(val!==false){val=tmp}if(tmp===false){event.preventDefault();event.stopPropagation()}}}if(jQuery.browser.msie){event.target=event.preventDefault=event.stopPropagation=event.handler=event.data=null}return val},fix:function(event){var originalEvent=event;event=jQuery.extend({},originalEvent);event.preventDefault=function(){if(originalEvent.preventDefault){originalEvent.preventDefault()}originalEvent.returnValue=false};event.stopPropagation=function(){if(originalEvent.stopPropagation){originalEvent.stopPropagation()}originalEvent.cancelBubble=true};if(!event.target&&event.srcElement){event.target=event.srcElement}if(jQuery.browser.safari&&event.target.nodeType==3){event.target=originalEvent.target.parentNode}if(!event.relatedTarget&&event.fromElement){event.relatedTarget=event.fromElement==event.target?event.toElement:event.fromElement}if(event.pageX==null&&event.clientX!=null){var e=document.documentElement,b=document.body;event.pageX=event.clientX+(e&&e.scrollLeft||b.scrollLeft||0);event.pageY=event.clientY+(e&&e.scrollTop||b.scrollTop||0)}if(!event.which&&(event.charCode||event.keyCode)){event.which=event.charCode||event.keyCode}if(!event.metaKey&&event.ctrlKey){event.metaKey=event.ctrlKey}if(!event.which&&event.button){event.which=(event.button&1?1:(event.button&2?3:(event.button&4?2:0)))}return event}};jQuery.fn.extend({bind:function(type,data,fn){return type=="unload"?this.one(type,data,fn):this.each(function(){jQuery.event.add(this,type,fn||data,fn&&data)})},one:function(type,data,fn){return this.each(function(){jQuery.event.add(this,type,function(event){jQuery(this).unbind(event);return(fn||data).apply(this,arguments)},fn&&data)})},unbind:function(type,fn){return this.each(function(){jQuery.event.remove(this,type,fn)})},trigger:function(type,data,fn){return this.each(function(){jQuery.event.trigger(type,data,this,true,fn)})},triggerHandler:function(type,data,fn){if(this[0]){return jQuery.event.trigger(type,data,this[0],false,fn)}},toggle:function(){var a=arguments;return this.click(function(e){this.lastToggle=0==this.lastToggle?1:0;e.preventDefault();return a[this.lastToggle].apply(this,[e])||false})},hover:function(f,g){function handleHover(e){var p=e.relatedTarget;while(p&&p!=this){try{p=p.parentNode}catch(e){p=this}}if(p==this){return false}return(e.type=="mouseover"?f:g).apply(this,[e])}return this.mouseover(handleHover).mouseout(handleHover)},ready:function(f){bindReady();if(jQuery.isReady){f.apply(document,[jQuery])}else{jQuery.readyList.push(function(){return f.apply(this,[jQuery])})}return this}});jQuery.extend({isReady:false,readyList:[],ready:function(){if(!jQuery.isReady){jQuery.isReady=true;if(jQuery.readyList){jQuery.each(jQuery.readyList,function(){this.apply(document)});jQuery.readyList=null}if(jQuery.browser.mozilla||jQuery.browser.opera){document.removeEventListener("DOMContentLoaded",jQuery.ready,false)}if(!window.frames.length){jQuery(window).load(function(){jQuery("#__ie_init").remove()})}}}});jQuery.each(("blur,focus,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,change,select,submit,keydown,keypress,keyup,error").split(","),function(i,o){jQuery.fn[o]=function(f){return f?this.bind(o,f):this.trigger(o)}});var readyBound=false;function bindReady(){if(readyBound){return }readyBound=true;if(jQuery.browser.mozilla||jQuery.browser.opera){document.addEventListener("DOMContentLoaded",jQuery.ready,false)}else{if(jQuery.browser.msie){document.write("<script id=__ie_init defer=true src=//:></script>");var script=document.getElementById("__ie_init");if(script){script.onreadystatechange=function(){if(this.readyState!="complete"){return }jQuery.ready()}}script=null}else{if(jQuery.browser.safari){jQuery.safariTimer=setInterval(function(){if(document.readyState=="loaded"||document.readyState=="complete"){clearInterval(jQuery.safariTimer);jQuery.safariTimer=null;jQuery.ready()}},10)}}}jQuery.event.add(window,"load",jQuery.ready)}jQuery.fn.extend({load:function(url,params,callback){if(jQuery.isFunction(url)){return this.bind("load",url)}var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off)}callback=callback||function(){};var type="GET";if(params){if(jQuery.isFunction(params)){callback=params;params=null}else{params=jQuery.param(params);type="POST"}}var self=this;jQuery.ajax({url:url,type:type,data:params,complete:function(res,status){if(status=="success"||status=="notmodified"){self.html(selector?jQuery("<div/>").append(res.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(selector):res.responseText)}setTimeout(function(){self.each(callback,[res.responseText,status,res])},13)}});return this},serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return jQuery.nodeName(this,"form")?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:val.constructor==Array?jQuery.map(val,function(val,i){return{name:elem.name,value:val}}):{name:elem.name,value:val}}).get()}});jQuery.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(i,o){jQuery.fn[o]=function(f){return this.bind(o,f)}});var jsc=(new Date).getTime();jQuery.extend({get:function(url,data,callback,type){if(jQuery.isFunction(data)){callback=data;data=null}return jQuery.ajax({type:"GET",url:url,data:data,success:callback,dataType:type})},getScript:function(url,callback){return jQuery.get(url,null,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},post:function(url,data,callback,type){if(jQuery.isFunction(data)){callback=data;data={}}return jQuery.ajax({type:"POST",url:url,data:data,success:callback,dataType:type})},ajaxSetup:function(settings){jQuery.extend(jQuery.ajaxSettings,settings)},ajaxSettings:{global:true,type:"GET",timeout:0,contentType:"application/x-www-form-urlencoded",processData:true,async:true,data:null},lastModified:{},ajax:function(s){var jsonp,jsre=/=(\?|%3F)/g,status,data;s=jQuery.extend(true,s,jQuery.extend(true,{},jQuery.ajaxSettings,s));if(s.data&&s.processData&&typeof s.data!="string"){s.data=jQuery.param(s.data)}if(s.dataType=="jsonp"){if(s.type.toLowerCase()=="get"){if(!s.url.match(jsre)){s.url+=(s.url.match(/\?/)?"&":"?")+(s.jsonp||"callback")+"=?"}}else{if(!s.data||!s.data.match(jsre)){s.data=(s.data?s.data+"&":"")+(s.jsonp||"callback")+"=?"}}s.dataType="json"}if(s.dataType=="json"&&(s.data&&s.data.match(jsre)||s.url.match(jsre))){jsonp="jsonp"+jsc++;if(s.data){s.data=s.data.replace(jsre,"="+jsonp)}s.url=s.url.replace(jsre,"="+jsonp);s.dataType="script";window[jsonp]=function(tmp){data=tmp;success();complete();window[jsonp]=undefined;try{delete window[jsonp]}catch(e){}}}if(s.dataType=="script"&&s.cache==null){s.cache=false}if(s.cache===false&&s.type.toLowerCase()=="get"){s.url+=(s.url.match(/\?/)?"&":"?")+"_="+(new Date()).getTime()}if(s.data&&s.type.toLowerCase()=="get"){s.url+=(s.url.match(/\?/)?"&":"?")+s.data;s.data=null}if(s.global&&!jQuery.active++){jQuery.event.trigger("ajaxStart")}if(!s.url.indexOf("http")&&s.dataType=="script"){var head=document.getElementsByTagName("head")[0];var script=document.createElement("script");script.src=s.url;if(!jsonp&&(s.success||s.complete)){var done=false;script.onload=script.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){done=true;success();complete();head.removeChild(script)}}}head.appendChild(script);return }var requestDone=false;var xml=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest();xml.open(s.type,s.url,s.async);if(s.data){xml.setRequestHeader("Content-Type",s.contentType)}if(s.ifModified){xml.setRequestHeader("If-Modified-Since",jQuery.lastModified[s.url]||"Thu, 01 Jan 1970 00:00:00 GMT")}xml.setRequestHeader("X-Requested-With","XMLHttpRequest");if(s.beforeSend){s.beforeSend(xml)}if(s.global){jQuery.event.trigger("ajaxSend",[xml,s])}var onreadystatechange=function(isTimeout){if(!requestDone&&xml&&(xml.readyState==4||isTimeout=="timeout")){requestDone=true;if(ival){clearInterval(ival);ival=null}status=isTimeout=="timeout"&&"timeout"||!jQuery.httpSuccess(xml)&&"error"||s.ifModified&&jQuery.httpNotModified(xml,s.url)&&"notmodified"||"success";if(status=="success"){try{data=jQuery.httpData(xml,s.dataType)}catch(e){status="parsererror"}}if(status=="success"){var modRes;try{modRes=xml.getResponseHeader("Last-Modified")}catch(e){}if(s.ifModified&&modRes){jQuery.lastModified[s.url]=modRes}if(!jsonp){success()}}else{jQuery.handleError(s,xml,status)}complete();if(s.async){xml=null}}};if(s.async){var ival=setInterval(onreadystatechange,13);if(s.timeout>0){setTimeout(function(){if(xml){xml.abort();if(!requestDone){onreadystatechange("timeout")}}},s.timeout)}}try{xml.send(s.data)}catch(e){jQuery.handleError(s,xml,null,e)}if(!s.async){onreadystatechange()}return xml;function success(){if(s.success){s.success(data,status)}if(s.global){jQuery.event.trigger("ajaxSuccess",[xml,s])}}function complete(){if(s.complete){s.complete(xml,status)}if(s.global){jQuery.event.trigger("ajaxComplete",[xml,s])}if(s.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}}},handleError:function(s,xml,status,e){if(s.error){s.error(xml,status,e)}if(s.global){jQuery.event.trigger("ajaxError",[xml,s,e])}},active:0,httpSuccess:function(r){try{return !r.status&&location.protocol=="file:"||(r.status>=200&&r.status<300)||r.status==304||jQuery.browser.safari&&r.status==undefined}catch(e){}return false},httpNotModified:function(xml,url){try{var xmlRes=xml.getResponseHeader("Last-Modified");return xml.status==304||xmlRes==jQuery.lastModified[url]||jQuery.browser.safari&&xml.status==undefined}catch(e){}return false},httpData:function(r,type){var ct=r.getResponseHeader("content-type");var xml=type=="xml"||!type&&ct&&ct.indexOf("xml")>=0;var data=xml?r.responseXML:r.responseText;if(xml&&data.documentElement.tagName=="parsererror"){throw"parsererror"}if(type=="script"){jQuery.globalEval(data)}if(type=="json"){data=eval("("+data+")")}return data},param:function(a){var s=[];if(a.constructor==Array||a.jquery){jQuery.each(a,function(){s.push(encodeURIComponent(this.name)+"="+encodeURIComponent(this.value))})}else{for(var j in a){if(a[j]&&a[j].constructor==Array){jQuery.each(a[j],function(){s.push(encodeURIComponent(j)+"="+encodeURIComponent(this))})}else{s.push(encodeURIComponent(j)+"="+encodeURIComponent(a[j]))}}}return s.join("&").replace(/%20/g,"+")}});jQuery.fn.extend({show:function(speed,callback){return speed?this.animate({height:"show",width:"show",opacity:"show"},speed,callback):this.filter(":hidden").each(function(){this.style.display=this.oldblock?this.oldblock:"";if(jQuery.css(this,"display")=="none"){this.style.display="block"}}).end()},hide:function(speed,callback){return speed?this.animate({height:"hide",width:"hide",opacity:"hide"},speed,callback):this.filter(":visible").each(function(){this.oldblock=this.oldblock||jQuery.css(this,"display");if(this.oldblock=="none"){this.oldblock="block"}this.style.display="none"}).end()},_toggle:jQuery.fn.toggle,toggle:function(fn,fn2){return jQuery.isFunction(fn)&&jQuery.isFunction(fn2)?this._toggle(fn,fn2):fn?this.animate({height:"toggle",width:"toggle",opacity:"toggle"},fn,fn2):this.each(function(){jQuery(this)[jQuery(this).is(":hidden")?"show":"hide"]()})},slideDown:function(speed,callback){return this.animate({height:"show"},speed,callback)},slideUp:function(speed,callback){return this.animate({height:"hide"},speed,callback)},slideToggle:function(speed,callback){return this.animate({height:"toggle"},speed,callback)},fadeIn:function(speed,callback){return this.animate({opacity:"show"},speed,callback)},fadeOut:function(speed,callback){return this.animate({opacity:"hide"},speed,callback)},fadeTo:function(speed,to,callback){return this.animate({opacity:to},speed,callback)},animate:function(prop,speed,easing,callback){var opt=jQuery.speed(speed,easing,callback);return this[opt.queue===false?"each":"queue"](function(){opt=jQuery.extend({},opt);var hidden=jQuery(this).is(":hidden"),self=this;for(var p in prop){if(prop[p]=="hide"&&hidden||prop[p]=="show"&&!hidden){return jQuery.isFunction(opt.complete)&&opt.complete.apply(this)}if(p=="height"||p=="width"){opt.display=jQuery.css(this,"display");opt.overflow=this.style.overflow}}if(opt.overflow!=null){this.style.overflow="hidden"}opt.curAnim=jQuery.extend({},prop);jQuery.each(prop,function(name,val){var e=new jQuery.fx(self,opt,name);if(/toggle|show|hide/.test(val)){e[val=="toggle"?hidden?"show":"hide":val](prop)}else{var parts=val.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),start=e.cur(true)||0;if(parts){var end=parseFloat(parts[2]),unit=parts[3]||"px";if(unit!="px"){self.style[name]=(end||1)+unit;start=((end||1)/e.cur(true))*start;self.style[name]=start+unit}if(parts[1]){end=((parts[1]=="-="?-1:1)*end)+start}e.custom(start,end,unit)}else{e.custom(start,val,"")}}});return true})},queue:function(type,fn){if(jQuery.isFunction(type)){fn=type;type="fx"}if(!type||(typeof type=="string"&&!fn)){return queue(this[0],type)}return this.each(function(){if(fn.constructor==Array){queue(this,type,fn)}else{queue(this,type).push(fn);if(queue(this,type).length==1){fn.apply(this)}}})},stop:function(){var timers=jQuery.timers;return this.each(function(){for(var i=0;i<timers.length;i++){if(timers[i].elem==this){timers.splice(i--,1)}}}).dequeue()}});var queue=function(elem,type,array){if(!elem){return }var q=jQuery.data(elem,type+"queue");if(!q||array){q=jQuery.data(elem,type+"queue",array?jQuery.makeArray(array):[])}return q};jQuery.fn.dequeue=function(type){type=type||"fx";return this.each(function(){var q=queue(this,type);q.shift();if(q.length){q[0].apply(this)}})};jQuery.extend({speed:function(speed,easing,fn){var opt=speed&&speed.constructor==Object?speed:{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&easing.constructor!=Function&&easing};opt.duration=(opt.duration&&opt.duration.constructor==Number?opt.duration:{slow:600,fast:200}[opt.duration])||400;opt.old=opt.complete;opt.complete=function(){jQuery(this).dequeue();if(jQuery.isFunction(opt.old)){opt.old.apply(this)}};return opt},easing:{linear:function(p,n,firstNum,diff){return firstNum+diff*p},swing:function(p,n,firstNum,diff){return((-Math.cos(p*Math.PI)/2)+0.5)*diff+firstNum}},timers:[],fx:function(elem,options,prop){this.options=options;this.elem=elem;this.prop=prop;if(!options.orig){options.orig={}}}});jQuery.fx.prototype={update:function(){if(this.options.step){this.options.step.apply(this.elem,[this.now,this])}(jQuery.fx.step[this.prop]||jQuery.fx.step._default)(this);if(this.prop=="height"||this.prop=="width"){this.elem.style.display="block"}},cur:function(force){if(this.elem[this.prop]!=null&&this.elem.style[this.prop]==null){return this.elem[this.prop]}var r=parseFloat(jQuery.curCSS(this.elem,this.prop,force));return r&&r>-10000?r:parseFloat(jQuery.css(this.elem,this.prop))||0},custom:function(from,to,unit){this.startTime=(new Date()).getTime();this.start=from;this.end=to;this.unit=unit||this.unit||"px";this.now=this.start;this.pos=this.state=0;this.update();var self=this;function t(){return self.step()}t.elem=this.elem;jQuery.timers.push(t);if(jQuery.timers.length==1){var timer=setInterval(function(){var timers=jQuery.timers;for(var i=0;i<timers.length;i++){if(!timers[i]()){timers.splice(i--,1)}}if(!timers.length){clearInterval(timer)}},13)}},show:function(){this.options.orig[this.prop]=jQuery.attr(this.elem.style,this.prop);this.options.show=true;this.custom(0,this.cur());if(this.prop=="width"||this.prop=="height"){this.elem.style[this.prop]="1px"}jQuery(this.elem).show()},hide:function(){this.options.orig[this.prop]=jQuery.attr(this.elem.style,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(){var t=(new Date()).getTime();if(t>this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;var done=true;for(var i in this.options.curAnim){if(this.options.curAnim[i]!==true){done=false}}if(done){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;this.elem.style.display=this.options.display;if(jQuery.css(this.elem,"display")=="none"){this.elem.style.display="block"}}if(this.options.hide){this.elem.style.display="none"}if(this.options.hide||this.options.show){for(var p in this.options.curAnim){jQuery.attr(this.elem.style,p,this.options.orig[p])}}}if(done&&jQuery.isFunction(this.options.complete)){this.options.complete.apply(this.elem)}return false}else{var n=t-this.startTime;this.state=n/this.options.duration;this.pos=jQuery.easing[this.options.easing||(jQuery.easing.swing?"swing":"linear")](this.state,n,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update()}return true}};jQuery.fx.step={scrollLeft:function(fx){fx.elem.scrollLeft=fx.now},scrollTop:function(fx){fx.elem.scrollTop=fx.now},opacity:function(fx){jQuery.attr(fx.elem.style,"opacity",fx.now)},_default:function(fx){fx.elem.style[fx.prop]=fx.now+fx.unit}};jQuery.fn.offset=function(){var left=0,top=0,elem=this[0],results;if(elem){with(jQuery.browser){var absolute=jQuery.css(elem,"position")=="absolute",parent=elem.parentNode,offsetParent=elem.offsetParent,doc=elem.ownerDocument,safari2=safari&&parseInt(version)<522;if(elem.getBoundingClientRect){box=elem.getBoundingClientRect();add(box.left+Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft),box.top+Math.max(doc.documentElement.scrollTop,doc.body.scrollTop));if(msie){var border=jQuery("html").css("borderWidth");border=(border=="medium"||jQuery.boxModel&&parseInt(version)>=7)&&2||border;add(-border,-border)}}else{add(elem.offsetLeft,elem.offsetTop);while(offsetParent){add(offsetParent.offsetLeft,offsetParent.offsetTop);if(mozilla&&/^t[d|h]$/i.test(parent.tagName)||!safari2){border(offsetParent)}if(safari2&&!absolute&&jQuery.css(offsetParent,"position")=="absolute"){absolute=true}offsetParent=offsetParent.offsetParent}while(parent.tagName&&!/^body|html$/i.test(parent.tagName)){if(!/^inline|table-row.*$/i.test(jQuery.css(parent,"display"))){add(-parent.scrollLeft,-parent.scrollTop)}if(mozilla&&jQuery.css(parent,"overflow")!="visible"){border(parent)}parent=parent.parentNode}if(safari2&&absolute){add(-doc.body.offsetLeft,-doc.body.offsetTop)}}results={top:top,left:left}}}return results;function border(elem){add(jQuery.css(elem,"borderLeftWidth"),jQuery.css(elem,"borderTopWidth"))}function add(l,t){left+=parseInt(l)||0;top+=parseInt(t)||0}}})();(function(D){var C=D.fn.height,B=D.fn.width;D.fn.extend({height:function(){if(this[0]==window){return self.innerHeight||D.boxModel&&document.documentElement.clientHeight||document.body.clientHeight}if(this[0]==document){return Math.max(document.body.scrollHeight,document.body.offsetHeight)}return C.apply(this,arguments)},width:function(){if(this[0]==window){return self.innerWidth||D.boxModel&&document.documentElement.clientWidth||document.body.clientWidth}if(this[0]==document){return Math.max(document.body.scrollWidth,document.body.offsetWidth)}return B.apply(this,arguments)},innerHeight:function(){return this[0]==window||this[0]==document?this.height():this.is(":visible")?this[0].offsetHeight-A(this,"borderTopWidth")-A(this,"borderBottomWidth"):this.height()+A(this,"paddingTop")+A(this,"paddingBottom")},innerWidth:function(){return this[0]==window||this[0]==document?this.width():this.is(":visible")?this[0].offsetWidth-A(this,"borderLeftWidth")-A(this,"borderRightWidth"):this.width()+A(this,"paddingLeft")+A(this,"paddingRight")},outerHeight:function(){return this[0]==window||this[0]==document?this.height():this.is(":visible")?this[0].offsetHeight:this.height()+A(this,"borderTopWidth")+A(this,"borderBottomWidth")+A(this,"paddingTop")+A(this,"paddingBottom")},outerWidth:function(){return this[0]==window||this[0]==document?this.width():this.is(":visible")?this[0].offsetWidth:this.width()+A(this,"borderLeftWidth")+A(this,"borderRightWidth")+A(this,"paddingLeft")+A(this,"paddingRight")},scrollLeft:function(F){if(F!=undefined){return this.each(function(){if(this==window||this==document){window.scrollTo(F,D(window).scrollTop())}else{this.scrollLeft=F}})}if(this[0]==window||this[0]==document){return self.pageXOffset||D.boxModel&&document.documentElement.scrollLeft||document.body.scrollLeft}return this[0].scrollLeft},scrollTop:function(F){if(F!=undefined){return this.each(function(){if(this==window||this==document){window.scrollTo(D(window).scrollLeft(),F)}else{this.scrollTop=F}})}if(this[0]==window||this[0]==document){return self.pageYOffset||D.boxModel&&document.documentElement.scrollTop||document.body.scrollTop}return this[0].scrollTop},position:function(K,H){var F=this[0],N=F.parentNode,I=F.offsetParent,K=D.extend({margin:false,border:false,padding:false,scroll:false},K||{}),M=F.offsetLeft,L=F.offsetTop,G=F.scrollLeft,O=F.scrollTop;if(D.browser.mozilla||D.browser.msie){M+=A(F,"borderLeftWidth");L+=A(F,"borderTopWidth")}if((D.browser.safari||D.browser.opera)&&D.css(I,"position")!="static"){M-=A(I,"borderLeftWidth");L-=A(I,"borderTopWidth")}if(D.browser.mozilla){do{if(N!=F&&D.css(N,"overflow")!="visible"){M+=A(N,"borderLeftWidth");L+=A(N,"borderTopWidth")}if(N==I){break}}while((N=N.parentNode)&&N.tagName!="BODY")}if(D.browser.msie&&(I.tagName!="BODY"&&D.css(I,"position")=="static")){do{M+=I.offsetLeft;L+=I.offsetTop;M+=A(I,"borderLeftWidth");L+=A(I,"borderTopWidth")}while((I=I.offsetParent)&&(I.tagName!="BODY"&&D.css(I,"position")=="static"))}var J=E(F,K,M,L,G,O);if(H){D.extend(H,J);return this}else{return J}},offset:function(G,L){var K=0,J=0,V=0,P=0,U=this[0],F=this[0],I,H,Q=D.css(U,"position"),T=D.browser.mozilla,M=D.browser.msie,W=D.browser.safari,S=D.browser.opera,O=false,R=false,G=D.extend({margin:true,border:false,padding:false,scroll:true,lite:false},G||{});if(G.lite){return this.offsetLite(G,L)}if(U.tagName=="BODY"){K=U.offsetLeft;J=U.offsetTop;if(T){K+=A(U,"marginLeft")+(A(U,"borderLeftWidth")*2);J+=A(U,"marginTop")+(A(U,"borderTopWidth")*2)}else{if(S){K+=A(U,"marginLeft");J+=A(U,"marginTop")}else{if(M&&jQuery.boxModel){K+=A(U,"borderLeftWidth");J+=A(U,"borderTopWidth")}}}}else{do{H=D.css(F,"position");K+=F.offsetLeft;J+=F.offsetTop;if(T||M){K+=A(F,"borderLeftWidth");J+=A(F,"borderTopWidth");if(T&&H=="absolute"){O=true}if(M&&H=="relative"){R=true}}I=F.offsetParent;if(G.scroll||T){do{if(G.scroll){V+=F.scrollLeft;P+=F.scrollTop}if(T&&F!=U&&D.css(F,"overflow")!="visible"){K+=A(F,"borderLeftWidth");J+=A(F,"borderTopWidth")}F=F.parentNode}while(F!=I)}F=I;if(F.tagName=="BODY"||F.tagName=="HTML"){if((W||(M&&D.boxModel))&&Q!="absolute"&&Q!="fixed"){K+=A(F,"marginLeft");J+=A(F,"marginTop")}if((T&&!O&&Q!="fixed")||(M&&Q=="static"&&!R)){K+=A(F,"borderLeftWidth");J+=A(F,"borderTopWidth")}break}}while(F)}var N=E(U,G,K,J,V,P);if(L){D.extend(L,N);return this}else{return N}},offsetLite:function(J,G){var L=0,K=0,F=0,N=0,M=this[0],H,J=D.extend({margin:true,border:false,padding:false,scroll:true},J||{});do{L+=M.offsetLeft;K+=M.offsetTop;H=M.offsetParent;if(J.scroll){do{F+=M.scrollLeft;N+=M.scrollTop;M=M.parentNode}while(M!=H)}M=H}while(M&&M.tagName!="BODY"&&M.tagName!="HTML");var I=E(this[0],J,L,K,F,N);if(G){D.extend(G,I);return this}else{return I}}});var A=function(F,G){return parseInt(D.css(F.jquery?F[0]:F,G))||0};var E=function(J,I,G,K,F,H){if(!I.margin){G-=A(J,"marginLeft");K-=A(J,"marginTop")}if(I.border&&(D.browser.safari||D.browser.opera)){G+=A(J,"borderLeftWidth");K+=A(J,"borderTopWidth")}else{if(!I.border&&!(D.browser.safari||D.browser.opera)){G-=A(J,"borderLeftWidth");K-=A(J,"borderTopWidth")}}if(I.padding){G+=A(J,"paddingLeft");K+=A(J,"paddingTop")}if(I.scroll){F-=J.scrollLeft;H-=J.scrollTop}return I.scroll?{top:K-H,left:G-F,scrollTop:H,scrollLeft:F}:{top:K,left:G}}})(jQuery);jQuery.fn.center=function(A){return this.each(function(){var D=this.parentNode;if(jQuery.css(D,"position")=="static"){D.style.position="relative"}var C=this.style;if(!A||A=="horizontal"){if(((parseInt(jQuery.css(D,"width"))-parseInt(jQuery.css(this,"width")))/2)>0){C.left=((parseInt(jQuery.css(D,"width"))-parseInt(jQuery.css(this,"width")))/2)+"px"}else{C.left="0"}}if(!A||A=="vertical"){if(((parseInt(jQuery.css(D,"height"))-parseInt(jQuery.css(this,"height")))/2)>0){C.top=((parseInt(jQuery.css(D,"height"))-parseInt(jQuery.css(this,"height")))/2)+"px"}else{if(D.nodeName.toLowerCase()=="body"){if(window.innerHeight){var B=window.innerHeight}else{if(document.body&&document.body.offsetHeight){var B=document.body.offsetHeight}}C.top=((B-parseInt(jQuery.css(this,"height")))/2)+"px"}else{C.top="0"}}}})};var tb_pathToImage="/images/loadingAnimation.gif";function tb_init(A){$(A).click(function(){var C=this.title||this.name||null;var B=this.href||this.alt;var D=this.rel||false;tb_show(C,B,D);this.blur();return false})}function tb_show(J,A,B){try{if(typeof document.body.style.maxHeight==="undefined"){$("body","html").css({height:"100%",width:"100%"});$("html").css("overflow","hidden");if(document.getElementById("TB_HideSelect")===null){$("body").append("<iframe id='TB_HideSelect'></iframe><div id='TB_overlay'></div><div id='TB_window'></div>");$("#TB_overlay").click(tb_remove)}}else{if(document.getElementById("TB_overlay")===null){$("body").append("<div id='TB_overlay'></div><div id='TB_window'>");$("#TB_overlay").click(tb_remove)}}if(J===null){J=""}$("body").append("<div id='TB_load'><img src='"+imgLoader.src+"' /></div>");$("#TB_load").show();var G;if(A.indexOf("?")!==-1){G=A.substr(0,A.indexOf("?"))}else{G=A}var E=/\.jpg|\.jpeg|\.png|\.gif|\.bmp/g;var I=G.toLowerCase().match(E);if(I==".jpg"||I==".jpeg"||I==".png"||I==".gif"||I==".bmp"){TB_PrevCaption="";TB_PrevURL="";TB_PrevHTML="";TB_NextCaption="";TB_NextURL="";TB_NextHTML="";TB_imageCount="";TB_FoundURL=false;if(B){TB_TempArray=$("a[@rel="+B+"]").get();for(TB_Counter=0;((TB_Counter<TB_TempArray.length)&&(TB_NextHTML===""));TB_Counter++){var C=TB_TempArray[TB_Counter].href.toLowerCase().match(E);if(!(TB_TempArray[TB_Counter].href==A)){if(TB_FoundURL){TB_NextCaption=TB_TempArray[TB_Counter].title;TB_NextURL=TB_TempArray[TB_Counter].href;TB_NextHTML="<span id='TB_next'>&nbsp;&nbsp;<a href='#'>Next &gt;</a></span>"}else{TB_PrevCaption=TB_TempArray[TB_Counter].title;TB_PrevURL=TB_TempArray[TB_Counter].href;TB_PrevHTML="<span id='TB_prev'>&nbsp;&nbsp;<a href='#'>&lt; Prev</a></span>"}}else{TB_FoundURL=true;TB_imageCount="Image "+(TB_Counter+1)+" of "+(TB_TempArray.length)}}}imgPreloader=new Image();imgPreloader.onload=function(){imgPreloader.onload=null;var O=tb_getPageSize();var M=O[0]-150;var Q=O[1]-150;var P=imgPreloader.width;var L=imgPreloader.height;if(P>M){L=L*(M/P);P=M;if(L>Q){P=P*(Q/L);L=Q}}else{if(L>Q){P=P*(Q/L);L=Q;if(P>M){L=L*(M/P);P=M}}}TB_WIDTH=P+30;TB_HEIGHT=L+60;$("#TB_window").append("<a href='' id='TB_ImageOff' title='Close'><img id='TB_Image' src='"+A+"' width='"+P+"' height='"+L+"' alt='"+J+"'/></a><div id='TB_caption'>"+J+"<div id='TB_secondLine'>"+TB_imageCount+TB_PrevHTML+TB_NextHTML+"</div></div><div id='TB_closeWindow'><a href='#' id='TB_closeWindowButton' title='Close'>close</a> or Esc Key</div>");$("#TB_closeWindowButton").click(tb_remove);if(!(TB_PrevHTML==="")){function K(){if($(document).unbind("click",K)){$(document).unbind("click",K)}$("#TB_window").remove();$("body").append("<div id='TB_window'></div>");tb_show(TB_PrevCaption,TB_PrevURL,B);return false}$("#TB_prev").click(K)}if(!(TB_NextHTML==="")){function N(){$("#TB_window").remove();$("body").append("<div id='TB_window'></div>");tb_show(TB_NextCaption,TB_NextURL,B);return false}$("#TB_next").click(N)}document.onkeydown=function(R){if(R==null){keycode=event.keyCode}else{keycode=R.which}if(keycode==27){tb_remove()}else{if(keycode==190){if(!(TB_NextHTML=="")){document.onkeydown="";N()}}else{if(keycode==188){if(!(TB_PrevHTML=="")){document.onkeydown="";K()}}}}};tb_position();$("#TB_load").remove();$("#TB_ImageOff").click(tb_remove);$("#TB_window").css({display:"block"})};imgPreloader.src=A}else{var H=A.replace(/^[^\?]+\??/,"");var D=tb_parseQuery(H);TB_WIDTH=(D["width"]*1)+30||630;TB_HEIGHT=(D["height"]*1)+40||440;ajaxContentW=TB_WIDTH-30;ajaxContentH=TB_HEIGHT-45;if(A.indexOf("TB_iframe")!=-1){urlNoQuery=A.split("TB_");$("#TB_window").append("<div id='TB_title'><div id='TB_ajaxWindowTitle'>"+J+"</div><div id='TB_closeAjaxWindow'><a href='#' id='TB_closeWindowButton' title='Close'>close</a> or Esc Key</div></div><iframe frameborder='0' hspace='0' src='"+urlNoQuery[0]+"' id='TB_iframeContent' name='TB_iframeContent' style='width:"+(ajaxContentW+29)+"px;height:"+(ajaxContentH+17)+"px;' onload='tb_showIframe()'> </iframe>")}else{if($("#TB_window").css("display")!="block"){if(D["modal"]!="true"){$("#TB_window").append("<div id='TB_title'><div id='TB_ajaxWindowTitle'>"+J+"</div><div id='TB_closeAjaxWindow'><a href='#' id='TB_closeWindowButton'>close</a> or Esc Key</div></div><div id='TB_ajaxContent' style='width:"+ajaxContentW+"px;height:"+ajaxContentH+"px'></div>")}else{$("#TB_overlay").unbind();$("#TB_window").append("<div id='TB_ajaxContent' class='TB_modal' style='width:"+ajaxContentW+"px;height:"+ajaxContentH+"px;'></div>")}}else{$("#TB_ajaxContent")[0].style.width=ajaxContentW+"px";$("#TB_ajaxContent")[0].style.height=ajaxContentH+"px";$("#TB_ajaxContent")[0].scrollTop=0;$("#TB_ajaxWindowTitle").html(J)}}$("#TB_closeWindowButton").click(tb_remove);if(A.indexOf("TB_inline")!=-1){$("#TB_ajaxContent").html($("#"+D["inlineId"]).html());tb_position();$("#TB_load").remove();$("#TB_window").css({display:"block"})}else{if(A.indexOf("TB_iframe")!=-1){tb_position();$("#TB_load").remove();$("#TB_window").css({display:"block"});$(document).keyup(function(L){var K=L.keyCode;if(K==27){tb_remove()}})}else{$("#TB_ajaxContent").load(A+="&random="+(new Date().getTime()),function(){tb_position();$("#TB_load").remove();tb_init("#TB_ajaxContent a.thickbox");$("#TB_window").css({display:"block"})})}}}if(!D["modal"]){document.onkeyup=function(K){if(K==null){keycode=event.keyCode}else{keycode=K.which}if(keycode==27){tb_remove()}}}}catch(F){}}function tb_showIframe(){$("#TB_load").remove();$("#TB_window").css({display:"block"})}function tb_remove(){$("#TB_imageOff").unbind("click");$("#TB_overlay").unbind("click");$("#TB_closeWindowButton").unbind("click");$("#TB_window").fadeOut("fast",function(){$("#TB_window,#TB_overlay,#TB_HideSelect").remove()});$("#TB_load").remove();if(typeof document.body.style.maxHeight=="undefined"){$("body","html").css({height:"auto",width:"auto"});$("html").css("overflow","")}document.onkeydown="";return false}function tb_position(){$("#TB_window").css({marginLeft:"-"+parseInt((TB_WIDTH/2),10)+"px",width:TB_WIDTH+"px"});if(!(jQuery.browser.msie&&typeof XMLHttpRequest=="function")){$("#TB_window").css({marginTop:"-"+parseInt((TB_HEIGHT/2),10)+"px"})}}function tb_parseQuery(D){var G={};if(!D){return G}var A=D.split(/[;&]/);for(var C=0;C<A.length;C++){var E=A[C].split("=");if(!E||E.length!=2){continue}var B=unescape(E[0]);var F=unescape(E[1]);F=F.replace(/\+/g," ");G[B]=F}return G}function tb_getPageSize(){var C=document.documentElement;var A=window.innerWidth||self.innerWidth||(C&&C.clientWidth)||document.body.clientWidth;var B=window.innerHeight||self.innerHeight||(C&&C.clientHeight)||document.body.clientHeight;arrayPageSize=[A,B];return arrayPageSize}jQuery.extend({historyCurrentHash:undefined,historyCallback:undefined,historyInit:function(C){jQuery.historyCallback=C;var D=location.hash;jQuery.historyCurrentHash=D;if(jQuery.browser.msie){if(jQuery.historyCurrentHash==""){jQuery.historyCurrentHash="#"}$("body").prepend("<iframe id=\"jQuery_history\" style=\"display: none;\"></iframe>");var B=$("#jQuery_history")[0];var A=B.contentWindow.document;A.open();A.close();A.location.hash=D}else{if($.browser.safari){jQuery.historyBackStack=[];jQuery.historyBackStack.length=history.length;jQuery.historyForwardStack=[];jQuery.isFirst=true}}setInterval(jQuery.historyCheck,100)},historyAddHistory:function(A){jQuery.historyBackStack.push(A);jQuery.historyForwardStack.length=0;this.isFirst=true},historyCheck:function(){if(jQuery.browser.msie){var D=$("#jQuery_history")[0];var A=D.contentDocument||D.contentWindow.document;var F=A.location.hash;if(F!=jQuery.historyCurrentHash){location.hash=F;jQuery.historyCurrentHash=F;jQuery.historyCallback(F.replace(/^#/,""))}}else{if($.browser.safari){if(!jQuery.dontCheck){var C=history.length-jQuery.historyBackStack.length;if(C){jQuery.isFirst=false;if(C<0){for(var B=0;B<Math.abs(C);B++){jQuery.historyForwardStack.unshift(jQuery.historyBackStack.pop())}}else{for(var B=0;B<C;B++){jQuery.historyBackStack.push(jQuery.historyForwardStack.shift())}}var E=jQuery.historyBackStack[jQuery.historyBackStack.length-1];if(E!=undefined){jQuery.historyCurrentHash=location.hash;jQuery.historyCallback(E)}}else{if(jQuery.historyBackStack[jQuery.historyBackStack.length-1]==undefined&&!jQuery.isFirst){if(document.URL.indexOf("#")>=0){jQuery.historyCallback(document.URL.split("#")[1])}else{var F=location.hash;jQuery.historyCallback("")}jQuery.isFirst=true}}}}else{var F=location.hash;if(F!=jQuery.historyCurrentHash){jQuery.historyCurrentHash=F;jQuery.historyCallback(F.replace(/^#/,""))}}}},historyLoad:function(D){var E;if(jQuery.browser.safari){E=D}else{E="#"+D;location.hash=E}jQuery.historyCurrentHash=E;if(jQuery.browser.msie){var C=$("#jQuery_history")[0];var A=C.contentWindow.document;A.open();A.close();A.location.hash=E;jQuery.historyCallback(D)}else{if(jQuery.browser.safari){jQuery.dontCheck=true;this.historyAddHistory(D);var B=function(){jQuery.dontCheck=false};window.setTimeout(B,200);jQuery.historyCallback(D);location.hash=E}else{jQuery.historyCallback(D)}}}});jQuery.autocomplete=function(C,S){var O=this;var X=$(C).attr("autocomplete","off");if(S.inputClass){X.addClass(S.inputClass)}var P=document.createElement("div");var e=$(P);e.hide().addClass(S.resultsClass).css("position","absolute");if(S.width>0){e.css("width",S.width)}$("body").append(P);C.autocompleter=O;var G=null;var W="";var H=-1;var J={};var a=false;var L=false;var A=null;function Y(){J={};J.data={};J.length=0}Y();if(S.data!=null){var Q="",o={},M=[];if(typeof S.url!="string"){S.cacheLength=1}for(var m=0;m<S.data.length;m++){M=((typeof S.data[m]=="string")?[S.data[m]]:S.data[m]);if(M[0].length>0){Q=M[0].substring(0,1).toLowerCase();if(!o[Q]){o[Q]=[]}o[Q].push(M)}}for(var l in o){S.cacheLength++;E(l,o[l])}}X.keydown(function(k){A=k.keyCode;switch(k.keyCode){case 38:k.preventDefault();I(-1);break;case 40:k.preventDefault();I(1);break;case 9:case 13:if(d()){X.get(0).blur();k.preventDefault()}break;default:H=-1;if(G){clearTimeout(G)}G=setTimeout(function(){T()},S.delay);break}}).focus(function(){L=true}).blur(function(){L=false;D()});R();function T(){if(A==46||(A>8&&A<32)){return e.hide()}var k=X.val();if(k==W){return }W=k;if(k.length>=S.minChars){X.addClass(S.loadingClass);b(k)}else{X.removeClass(S.loadingClass);e.hide()}}function I(p){var k=$("li",P);if(!k){return }H+=p;if(H<0){H=0}else{if(H>=k.size()){H=k.size()-1}}k.removeClass("ac_over");$(k[H]).addClass("ac_over")}function d(){var k=$("li.ac_over",P)[0];if(!k){var p=$("li",P);if(S.selectOnly){if(p.length==1){k=p[0]}}else{if(S.selectFirst){k=p[0]}}}if(k){U(k);return true}else{return false}}function U(k){if(!k){k=document.createElement("li");k.extra=[];k.selectValue=""}var p=$.trim(k.selectValue?k.selectValue:k.innerHTML);C.lastSelected=p;W=p;e.html("");X.val(p);R();if(S.onItemSelect){setTimeout(function(){S.onItemSelect(k)},1)}}function B(r,p){var q=X.get(0);if(q.createTextRange){var k=q.createTextRange();k.collapse(true);k.moveStart("character",r);k.moveEnd("character",p);k.select()}else{if(q.setSelectionRange){q.setSelectionRange(r,p)}else{if(q.selectionStart){q.selectionStart=r;q.selectionEnd=p}}}q.focus()}function V(k){if(A!=8){X.val(X.val()+k.substring(W.length));B(W.length,k.length)}}function c(){var p=K(C);var k=(S.width>0)?S.width:X.width();e.css({width:parseInt(k)+"px",top:(p.y+C.offsetHeight)+"px",left:p.x+"px"}).show()}function D(){if(G){clearTimeout(G)}G=setTimeout(R,200)}function R(){if(G){clearTimeout(G)}X.removeClass(S.loadingClass);if(e.is(":visible")){e.hide()}if(S.mustMatch){var k=X.val();if(k!=C.lastSelected){U(null)}}}function g(p,k){if(k){X.removeClass(S.loadingClass);P.innerHTML="";if(!L||k.length==0){return R()}if($.browser.msie){e.append(document.createElement("iframe"))}P.appendChild(F(k));if(S.autoFill&&(X.val().toLowerCase()==p.toLowerCase())){V(k[0][0])}c()}else{R()}}function h(r){if(!r){return null}var p=[];var q=r.split(S.lineSeparator);for(var k=0;k<q.length;k++){var s=$.trim(q[k]);if(s){p[p.length]=s.split(S.cellSeparator)}}return p}function F(u){var t=document.createElement("ul");var r=u.length;if((S.maxItemsToShow>0)&&(S.maxItemsToShow<r)){r=S.maxItemsToShow}for(var s=0;s<r;s++){var w=u[s];if(!w){continue}var p=document.createElement("li");if(S.formatItem){p.innerHTML=S.formatItem(w,s,r);p.selectValue=w[0]}else{p.innerHTML=w[0];p.selectValue=w[0]}var k=null;if(w.length>1){k=[];for(var q=1;q<w.length;q++){k[k.length]=w[q]}}p.extra=k;t.appendChild(p);$(p).hover(function(){$("li",t).removeClass("ac_over");$(this).addClass("ac_over");H=$("li",t).indexOf($(this).get(0))},function(){$(this).removeClass("ac_over")}).click(function(x){x.preventDefault();x.stopPropagation();U(this)})}return t}function b(p){if(!S.matchCase){p=p.toLowerCase()}var k=(!S.cacheData&&S.cacheLength)?n(p):null;if(k){g(p,k)}else{if((typeof S.url=="string")&&(S.url.length>0)){$.get(N(p),function(q){q=h(q);E(p,q);g(p,q)})}else{X.removeClass(S.loadingClass)}}}function N(r){var k=S.url+"?q="+encodeURI(r);for(var p in S.extraParams){k+="&"+p+"="+encodeURI(S.extraParams[p])}return k}function n(w){if(!w){return null}if(J.data[w]){return J.data[w]}if(S.matchSubset){for(var t=w.length-1;t>=S.minChars;t--){var p=w.substr(0,t);var y=J.data[p];if(y){var u=[];for(var r=0;r<y.length;r++){var k=y[r];var s=k[0];if(Z(s,w)){u[u.length]=k}}return u}}}return null}function Z(q,p){if(!S.matchCase){q=q.toLowerCase()}var k=q.indexOf(p);if(k==-1){return false}return k==0||S.matchContains}this.flushCache=function(){Y()};this.setExtraParams=function(k){S.extraParams=k};this.findValue=function(){var p=X.val();if(!S.matchCase){p=p.toLowerCase()}var k=S.cacheLength?n(p):null;if(k){f(p,k)}else{if((typeof S.url=="string")&&(S.url.length>0)){$.get(N(p),function(q){q=h(q);E(p,q);f(p,q)})}else{f(p,null)}}};function f(w,u){if(u){X.removeClass(S.loadingClass)}var s=(u)?u.length:0;var p=null;for(var t=0;t<s;t++){var x=u[t];if(x[0].toLowerCase()==w.toLowerCase()){p=document.createElement("li");if(S.formatItem){p.innerHTML=S.formatItem(x,t,s);p.selectValue=x[0]}else{p.innerHTML=x[0];p.selectValue=x[0]}var k=null;if(x.length>1){k=[];for(var r=1;r<x.length;r++){k[k.length]=x[r]}}p.extra=k}}if(S.onFindValue){setTimeout(function(){S.onFindValue(p)},1)}}function E(p,k){if(!k||!p||!S.cacheLength){return }if(!J.length||J.length>S.cacheLength){Y();J.length++}else{if(!J[p]){J.length++}}J.data[p]=k}function K(p){var q=p.offsetLeft||0;var k=p.offsetTop||0;while(p=p.offsetParent){q+=p.offsetLeft;k+=p.offsetTop}return{x:q,y:k}}};jQuery.fn.autocomplete=function(A,B,C){B=B||{};B.url=A;B.data=((typeof C=="object")&&(C.constructor==Array))?C:null;B.inputClass=B.inputClass||"ac_input";B.resultsClass=B.resultsClass||"ac_results";B.lineSeparator=B.lineSeparator||"\n";B.cellSeparator=B.cellSeparator||"|";B.minChars=B.minChars||1;B.delay=B.delay||400;B.matchCase=B.matchCase||0;B.matchSubset=B.matchSubset||1;B.matchContains=B.matchContains||0;B.cacheLength=B.cacheLength||1;B.cacheData=B.cacheData||true;B.mustMatch=B.mustMatch||0;B.extraParams=B.extraParams||{};B.loadingClass=B.loadingClass||"ac_loading";B.selectFirst=B.selectFirst||false;B.selectOnly=B.selectOnly||false;B.maxItemsToShow=B.maxItemsToShow||-1;B.autoFill=B.autoFill||false;B.width=parseInt(B.width,10)||0;this.each(function(){var D=this;new jQuery.autocomplete(D,B)});return this};jQuery.fn.autocompleteArray=function(B,A){return this.autocomplete(null,A,B)};jQuery.fn.indexOf=function(B){for(var A=0;A<this.length;A++){if(this[A]==B){return A}}return -1};jQuery.fn.gmaps=function(A){return this.each(function(){new jQuery.gmaps(this,A)})};jQuery.gmaps=function(E,B){var D=false;var C=new Array();B=jQuery.extend({data:{locations:[]},infopanel:"none",maptype:G_MAP_TYPE,center:[37.98547493214612,-1.1305618286132812],zoom:11,relativepath:"http://192.168.0.6/"},B);if(GBrowserIsCompatible()){D=new GMap2(E);D.addControl(new GSmallMapControl());D.addControl(new GMapTypeControl());D.setCenter(new GLatLng(B.center[0],B.center[1]),B.zoom,B.maptype);if(typeof (B.infopanel)!=Boolean){GEvent.addListener(D,"moveend",function(){var J=D.getCenter();var I=D.getZoom();$(B.infopanel).html(J.toString()+" zoom: "+I)})}function H(I,J){var K=new GIcon();K.image=(B.data.locations[J].icon.indexOf("http:")<0)?B.relativepath+B.data.locations[J].icon:B.data.locations[J].icon;K.iconSize=new GSize(18,18);K.iconAnchor=new GPoint(6,18);K.infoWindowAnchor=new GPoint(5,1);var L=new GMarker(I,K);GEvent.addListener(L,"click",function(){if(B.data.locations[J].maximizedContent!=""){simpleContent=B.data.locations[J].simpleContent+"<a href='#' style='font-size:10px;margin-top:20px;display: block;' onclick='$(\"#"+E.id+"\").get(0).mapa.getInfoWindow().maximize();return false;'>Ver informaci&oacute;n expandida</a>";L.openInfoWindowHtml(simpleContent,{maxUrl:(B.data.locations[J].maximizedContent.indexOf("http:")<0)?B.relativepath+B.data.locations[J].maximizedContent:B.data.locations[J].maximizedContent})}else{L.openInfoWindow(B.data.locations[J].simpleContent)}});C.push(L);return L}var A=new Array();for(i=0;i<B.data.locations.length;i++){var G=new GLatLng(B.data.locations[i].latitude,B.data.locations[i].longitude);D.addOverlay(H(G,i));A[i]=G}var F=new GPolyline(A,"#B9121B",5,0.8);D.addOverlay(F);$("."+E.id).each(function(){this.associated_map=E.id;$(this).click(function(){$("#"+this.associated_map).get(0).gmap.jq_maps.goTo($("#"+this.associated_map).get(0),this.tabIndex-1);return false})});D.jq_maps={"settings":B,"gitems":C,"goTo":function(I,J){I.gmap.setZoom(I.gmap.jq_maps.settings.data.locations[J].zoom);I.gmap.panTo(new GLatLng(I.gmap.jq_maps.settings.data.locations[J].latitude,I.gmap.jq_maps.settings.data.locations[J].longitude));if(I.gmap.jq_maps.settings.data.locations[J].maximizedContent!=""){simpleContent=I.gmap.jq_maps.settings.data.locations[J].simpleContent+"<a href='#' style='font-size:10px;margin-top:20px;display: block;' onclick='$(\"#"+I.id+"\").get(0).gmap.getInfoWindow().maximize();return false;'>Show extended info</a>";I.gmap.jq_maps.gitems[J].openInfoWindowHtml(simpleContent,{maxUrl:(I.gmap.jq_maps.settings.data.locations[J].maximizedContent.indexOf("http:")<0)?I.gmap.jq_maps.settings.relativepath+I.gmap.jq_maps.settings.data.locations[J].maximizedContent:I.gmap.jq_maps.settings.data.locations[J].maximizedContent})}else{I.gmap.jq_maps.gitems[J].openInfoWindowHtml(I.gmap.jq_maps.settings.data.locations[J].simpleContent)}}}}E.gmap=D};function pageHeight(){return document.body.scrollHeight}function pageWidth(){return document.body.scrollWidth}function scrollX(){var A=document.documentElement;return self.pageXOffset||(A&&A.scrollLeft)||document.body.scrollLeft}function scrollY(){var A=document.documentElement;return self.pageYOffset||(A&&A.scrollTop)||document.body.scrollTop}function windowHeight(){var A=document.documentElement;return self.innerHeight||(A&&A.clientHeight)||document.body.clientHeight}function windowWidth(){var A=document.documentElement;return self.innerWidth||(A&&A.clientWidth)||document.body.clientWidth}function pageY(A){return A.offsetParent?A.offsetTop+pageY(A.offsetParent):A.offsetTop}function getStyle(C,A){if(C.style[A]){return C.style[A]}else{if(C.currentStyle){return C.currentStyle[A]}else{if(document.defaultView&&document.defaultView.getComputedStyle){A=A.replace(/([A-Z])/g,"-$1");A=A.toLowerCase();var B=document.defaultView.getComputedStyle(C,"");return B&&B.getPropertyValue(A)}else{return null}}}}function getHeight(A){return parseInt(getStyle(A,"height"))}function getWidth(A){return parseInt(getStyle(A,"width"))}function centerLeft(C){var B=getWidth(C);var A=scrollX()+(windowWidth()/2)-(B/2);if(A<0){A=0}C.style.left=A+"px"}function centerTop(C){var B=getHeight(C);var A=scrollY()+(windowHeight()/2)-(B/2);if(A<0){A=0}C.style.top=A+"px"}var dragging=false;var top;var left;var lleft;var ltop;var mleft;var nleft;var ntop;var wleft;var dragStartTop;var dragStartLeft;var outerDivTop;var slider;var previous;var previousid=0;window.onresize=adjust;function adjust(){$("#container").center("horizontal");$("#bottomads").center("horizontal");var A=20;var D=50;var B=160+90;if(fb==true){A=0;D=40;B=50}var C=windowWidth()-A;if(journeys.length>0){$("#container").css("left",D);$("#container").width(C);$("#outerDiv").width(C);$("#outerDiv").height(windowHeight()-B);$("#outerDiv").css("left",D);$("#innerDiv").height(windowHeight()-B-15);$("#innerDiv").width(C);$("#innerDiv").css("left",D);$("#now").height(windowHeight()-B)}}function scrollToTrain(C,A){previous=$("#"+journeys[C].id);previousid=C;var B=stripPx(previous.css("top"));var E=0;var D=0;if(B!=1){E=stripPx($("#"+journeys[0].id).css("left"))-stripPx(previous.css("left"));D=-39.19*((B-1)/3)}if(A==false){slider.setValue(journeys[C].starttime,true,true);$("#timeline").css("left",originalleft+E);$("#lines").css("left",180+E);$("#now").css("left",E);$("#markers").css("left",180+E)}else{$("#innerDiv").scrollTop(-1*D)}}var lastScrollTop=$("#innerDiv").scrollTop();var lastScrollPos=Math.round(lastScrollTop/39.19);function scrollTrains(){if(journeys.length>0){var B=$("#innerDiv").scrollTop();var C=Math.round(B/39.19);if((lastScrollTop!=B)&&(lastScrollTop==0)&&(C===lastScrollPos)){lastScrollPos=C;if(lastScrollTop>B){C=C-1}else{C=C+1}lastScrollTop=B}var A=C;if(C>=numberOfJourneys){A=numberOfJourneys-1}if((C>=0)&&(C<numberOfJourneys)){previous=$("#"+journeys[A].id);scrollToTrain(A,false)}}}function scrollJourneys(B){if(journeys.length>0){if(previous=="undefined"){previous=$("#"+journeys[0].id);previousid=0}var A=journeys[0].starttime;for(var C=0;C<numberOfJourneys;C++){if((journeys[C].starttime>=B)&&(A<=B)){scrollToTrain(C,true);break}else{A=journeys[C].starttime;previous=$("#"+journeys[C].id)}}}}function selectFrom(A){$("#fromcrs").val(A.extra[0])}function selectTo(A){$("#tocrs").val(A.extra[0])}$.fn.image=function(B,A){return this.each(function(){$("<img id=\"loading\"/>").appendTo(this).each(function(){this.src=B;this.onload=A})})};function addtrains(url,date,replaceExisting){$("#loadgif").image("/images/ajax-loader.gif",function(){$.get(url,{},function(data){$("#trains").append(data);var lastTop=stripPx($("#"+journeys[numberOfJourneys-1].id).css("top"));var jsother=eval($("#journeys-json").text());$("#journeys-json-div").remove();$("#date").remove();$("#date"+date).attr("id","date");$("#date").appendTo("#nextprev");var js=new Array();var jsCount=0;var all=new Array(journeys.length+jsother.length);for(var i=0;i<journeys.length;i++){all[i]=journeys[i]}for(var i=journeys.length;i<journeys.length+jsother.length;i++){all[i]=jsother[i-journeys.length]}var sorted=all.sort(function(a,b){return a.pos-b.pos});$.each(sorted,function(){var elemid=this.id;var elem=$("#"+elemid);elem.css("top",(1+(jsCount*3))+"em");jsCount++});jsCount=0;$("#trains").children().each(function(red){var elemid=this.id;if($.grep(journeys,function(n,i){return n.id==elemid.replace(/other/,"")}).length==0){var elem=$("#"+elemid);if(date!=pagedate){elem.css("top",((jsCount+1)*3)+lastTop+"em")}var res=$.grep(jsother,function(n,i){if(n.id==elemid){return n}});elem.click(function(){$("#a"+elemid.replace(/other/,"")+"stops").click()});tb_init("#a"+elemid.replace(/other/,"")+"stops");if(res.length!=0){js[jsCount]=res[0];jsCount++}}else{if(elemid.search("other")!=-1){$("#"+elemid).remove()}}$("#"+elemid).attr("id",elemid.replace(/other/,""))});numberOfJourneys=sorted.length;journeys=sorted;for(var i=0;i<numberOfJourneys;i++){journeys[i].id=journeys[i].id.replace(/other/,"")}if(pagedate!=date){for(var i=0;i<numberOfJourneys;i++){if(journeys[i].id.search(date)!=-1){scrollToTrain(i,true);break}}}$("a[@rel='history']").click(function(){var hash=this.href;hash=hash.replace(/^.*\//,"");$.historyLoad(hash);return false});$("#loading").remove()})});return }function addjourney(B,A){addtrains("/trainjourneys/"+B+"/"+A+"/"+pagedate,pagedate,false)}function loadtrains(A){addtrains("/trainjourneys"+stations+A,A,true)}function stripPx(A){if(A==""){return 0}return parseFloat(A.substring(0,A.length-2))}var imagePath="timePickerImages/";var ie=document.all;var dom=document.getElementById;var ns4=document.layers;var bShow=false;var textCtl;function setTimePicker(A){textCtl.value=A;closeTimePicker()}function refreshTimePicker(A){if(A==0){suffix="am"}else{suffix="pm"}sHTML="<table><tr><td><table cellpadding=3 cellspacing=0 bgcolor='#f0f0f0'>";for(i=0;i<=11;i++){sHTML+="<tr align=right style='font-family:verdana;font-size:9px;color:#000000;'>";if(i==0){hr=12}else{hr=i}for(j=0;j<4;j++){sHTML+="<td width=57 style='cursor:hand' onmouseover='this.style.backgroundColor=\"#66CCFF\"' onmouseout='this.style.backgroundColor=\"\"' onclick='setTimePicker(\""+hr+":"+padZero(j*15)+" "+suffix+"\")'><a style='text-decoration:none;color:#000000' href='javascript:setTimePicker(\""+hr+":"+padZero(j*15)+" "+suffix+"\")'>"+hr+":"+padZero(j*15)+"<font color=\"#808080\">"+suffix+"</font></a></td>"}sHTML+="</tr>"}sHTML+="</table></td></tr></table>";document.getElementById("timePickerContent").innerHTML=sHTML}if(dom){document.write("<div id='timepicker' style='z-index:+999;position:absolute;visibility:hidden;'><table style='border-width:3px;border-style:solid;border-color:#0033AA' bgcolor='#ffffff' cellpadding=0><tr bgcolor='#0033AA'><td><table cellpadding=0 cellspacing=0 width='100%' background='"+imagePath+"titleback.gif'><tr valign=bottom height=21><td style='font-family:verdana;font-size:11px;color:#ffffff;padding:3px' valign=center><B>&nbsp;&nbsp;Select a Time&nbsp;&nbsp;</B></td><td><img id='iconAM' src='"+imagePath+"am1.gif' onclick='document.getElementById(\"iconAM\").src=\""+imagePath+"am1.gif\";document.getElementById(\"iconPM\").src=\""+imagePath+"pm2.gif\";refreshTimePicker(0)' style='cursor:hand'></td><td><img id='iconPM' src='"+imagePath+"pm2.gif' onclick='document.getElementById(\"iconAM\").src=\""+imagePath+"am2.gif\";document.getElementById(\"iconPM\").src=\""+imagePath+"pm1.gif\";refreshTimePicker(1)' style='cursor:hand'></td><td align=right valign=center>&nbsp;<img onclick='closeTimePicker()' src='"+imagePath+"close.gif'  STYLE='cursor:hand'>&nbsp;</td></tr></table></td></tr><tr><td colspan=2><span id='timePickerContent'></span></td></tr></table></div>");refreshTimePicker(0)}var crossobj=(dom)?document.getElementById("timepicker").style:ie?document.all.timepicker:document.timepicker;var currentCtl;function selectTime(B,D){var C=0;var A=0;textCtl=D;currentCtl=B;currentCtl.src=imagePath+"timepicker2.gif";aTag=B;do{aTag=aTag.offsetParent;C+=aTag.offsetLeft;A+=aTag.offsetTop}while(aTag.tagName!="BODY");crossobj.left=B.offsetLeft+C;crossobj.top=B.offsetTop+A+B.offsetHeight+2;crossobj.visibility=(dom||ie)?"visible":"show";hideElement("SELECT",document.getElementById("calendar"));hideElement("APPLET",document.getElementById("calendar"));bShow=true}function hideElement(A,B){if(ie){for(i=0;i<document.all.tags(A).length;i++){obj=document.all.tags(A)[i];if(!obj||!obj.offsetParent){continue}objLeft=obj.offsetLeft;objTop=obj.offsetTop;objParent=obj.offsetParent;while(objParent.tagName.toUpperCase()!="BODY"){objLeft+=objParent.offsetLeft;objTop+=objParent.offsetTop;objParent=objParent.offsetParent}objHeight=obj.offsetHeight;objWidth=obj.offsetWidth;if((B.offsetLeft+B.offsetWidth)<=objLeft){}else{if((B.offsetTop+B.offsetHeight)<=objTop){}else{if(B.offsetTop>=(objTop+objHeight+obj.height)){}else{if(B.offsetLeft>=(objLeft+objWidth)){}else{obj.style.visibility="hidden"}}}}}}}function showElement(A){if(ie){for(i=0;i<document.all.tags(A).length;i++){obj=document.all.tags(A)[i];if(!obj||!obj.offsetParent){continue}obj.style.visibility=""}}}function closeTimePicker(){crossobj.visibility="hidden";showElement("SELECT");showElement("APPLET");currentCtl.src=imagePath+"timepicker.gif"}document.onkeypress=function hideTimePicker1(){if(event.keyCode==27){if(!bShow){closeTimePicker()}}};function isDigit(A){return((A=="0")||(A=="1")||(A=="2")||(A=="3")||(A=="4")||(A=="5")||(A=="6")||(A=="7")||(A=="8")||(A=="9"))}function isNumeric(A){num=parseInt(A,10);return !isNaN(num)}function padZero(A){v="";if(A<10){return("0"+A)}else{return A}}function validateDatePicker(B){C=B.value.toLowerCase();C=C.replace(" ","");C=C.replace(".",":");C=C.replace("-","");if((isNumeric(C))&&(C.length==4)){C=C.charAt(0)+C.charAt(1)+":"+C.charAt(2)+C.charAt(3)}var C=new String(C);tl=C.length;if(tl==1){if(isDigit(C)){B.value=C+":00 am"}else{return false}}else{if(tl==2){if(isNumeric(C)){if(parseInt(C,10)<13){if(C.charAt(1)!=":"){B.value=C+":00 am"}else{B.value=C+"00 am"}}else{if(parseInt(C,10)==24){B.value="0:00 am"}else{if(parseInt(C,10)<24){if(C.charAt(1)!=":"){B.value=(C-12)+":00 pm"}else{B.value=(C-12)+"00 pm"}}else{if(parseInt(C,10)<=60){B.value="0:"+padZero(C)+" am"}else{B.value="1:"+padZero(C%60)+" am"}}}}}else{if((C.charAt(0)==":")&&(isDigit(C.charAt(1)))){B.value="0:"+padZero(parseInt(C.charAt(1),10))+" am"}else{return false}}}else{if(tl>=3){var A=C.split(":");if(C.indexOf(":")>0){hr=parseInt(A[0],10);mn=parseInt(A[1],10);if(C.indexOf("pm")>0){mode="pm"}else{mode="am"}if(isNaN(hr)){hr=0}else{if(hr>24){return false}else{if(hr==24){mode="am";hr=0}else{if(hr>12){mode="pm";hr-=12}}}}if(isNaN(mn)){mn=0}else{if(mn>60){mn=mn%60;hr+=1}}}else{hr=parseInt(A[0],10);if(isNaN(hr)){hr=0}else{if(hr>24){return false}else{if(hr==24){mode="am";hr=0}else{if(hr>12){mode="pm";hr-=12}}}}mn=0}if(hr==24){hr=0;mode="am"}B.value=hr+":"+padZero(mn)+" "+mode}}}}Calendar=function(C,B,F,E){this.activeDiv=null;this.currentDateEl=null;this.getDateStatus=null;this.getDateToolTip=null;this.getDateText=null;this.timeout=null;this.onSelected=F||null;this.onClose=E||null;this.dragging=false;this.hidden=false;this.minYear=1970;this.maxYear=2050;this.dateFormat=Calendar._TT["DEF_DATE_FORMAT"];this.ttDateFormat=Calendar._TT["TT_DATE_FORMAT"];this.isPopup=true;this.weekNumbers=true;this.firstDayOfWeek=typeof C=="number"?C:Calendar._FD;this.showsOtherMonths=false;this.dateStr=B;this.ar_days=null;this.showsTime=false;this.time24=true;this.yearStep=2;this.hiliteToday=true;this.multiple=null;this.table=null;this.element=null;this.tbody=null;this.firstdayname=null;this.monthsCombo=null;this.yearsCombo=null;this.hilitedMonth=null;this.activeMonth=null;this.hilitedYear=null;this.activeYear=null;this.dateClicked=false;if(typeof Calendar._SDN=="undefined"){if(typeof Calendar._SDN_len=="undefined"){Calendar._SDN_len=3}var A=new Array();for(var D=8;D>0;){A[--D]=Calendar._DN[D].substr(0,Calendar._SDN_len)}Calendar._SDN=A;if(typeof Calendar._SMN_len=="undefined"){Calendar._SMN_len=3}A=new Array();for(var D=12;D>0;){A[--D]=Calendar._MN[D].substr(0,Calendar._SMN_len)}Calendar._SMN=A}};Calendar._C=null;Calendar.is_ie=(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent));Calendar.is_ie5=(Calendar.is_ie&&/msie 5\.0/i.test(navigator.userAgent));Calendar.is_opera=/opera/i.test(navigator.userAgent);Calendar.is_khtml=/Konqueror|Safari|KHTML/i.test(navigator.userAgent);Calendar.getAbsolutePos=function(E){var A=0,D=0;var B=/^div$/i.test(E.tagName);if(B&&E.scrollLeft){A=E.scrollLeft}if(B&&E.scrollTop){D=E.scrollTop}var F={x:E.offsetLeft-A,y:E.offsetTop-D};if(E.offsetParent){var C=this.getAbsolutePos(E.offsetParent);F.x+=C.x;F.y+=C.y}return F};Calendar.isRelated=function(C,A){var D=A.relatedTarget;if(!D){var B=A.type;if(B=="mouseover"){D=A.fromElement}else{if(B=="mouseout"){D=A.toElement}}}while(D){if(D==C){return true}D=D.parentNode}return false};Calendar.removeClass=function(E,C){if(!(E&&E.className)){return }var A=E.className.split(" ");var B=new Array();for(var D=A.length;D>0;){if(A[--D]!=C){B[B.length]=A[D]}}E.className=B.join(" ")};Calendar.addClass=function(B,A){Calendar.removeClass(B,A);B.className+=" "+A};Calendar.getElement=function(A){var B=Calendar.is_ie?window.event.srcElement:A.currentTarget;while(B.nodeType!=1||/^div$/i.test(B.tagName)){B=B.parentNode}return B};Calendar.getTargetElement=function(A){var B=Calendar.is_ie?window.event.srcElement:A.target;while(B.nodeType!=1){B=B.parentNode}return B};Calendar.stopEvent=function(A){A||(A=window.event);if(Calendar.is_ie){A.cancelBubble=true;A.returnValue=false}else{A.preventDefault();A.stopPropagation()}return false};Calendar.addEvent=function(B,A,C){if(B.attachEvent){B.attachEvent("on"+A,C)}else{if(B.addEventListener){B.addEventListener(A,C,true)}else{B["on"+A]=C}}};Calendar.removeEvent=function(B,A,C){if(B.detachEvent){B.detachEvent("on"+A,C)}else{if(B.removeEventListener){B.removeEventListener(A,C,true)}else{B["on"+A]=null}}};Calendar.createElement=function(C,A){var B=null;if(document.createElementNS){B=document.createElementNS("http://www.w3.org/1999/xhtml",C)}else{B=document.createElement(C)}if(typeof A!="undefined"){A.appendChild(B)}return B};Calendar._add_evs=function(el){with(Calendar){addEvent(el,"mouseover",dayMouseOver);addEvent(el,"mousedown",dayMouseDown);addEvent(el,"mouseout",dayMouseOut);if(is_ie){addEvent(el,"dblclick",dayMouseDblClick);el.setAttribute("unselectable",true)}}};Calendar.findMonth=function(A){if(typeof A.month!="undefined"){return A}else{if(typeof A.parentNode.month!="undefined"){return A.parentNode}}return null};Calendar.findYear=function(A){if(typeof A.year!="undefined"){return A}else{if(typeof A.parentNode.year!="undefined"){return A.parentNode}}return null};Calendar.showMonthsCombo=function(){var E=Calendar._C;if(!E){return false}var E=E;var F=E.activeDiv;var D=E.monthsCombo;if(E.hilitedMonth){Calendar.removeClass(E.hilitedMonth,"hilite")}if(E.activeMonth){Calendar.removeClass(E.activeMonth,"active")}var C=E.monthsCombo.getElementsByTagName("div")[E.date.getMonth()];Calendar.addClass(C,"active");E.activeMonth=C;var B=D.style;B.display="block";if(F.navtype<0){B.left=F.offsetLeft+"px"}else{var A=D.offsetWidth;if(typeof A=="undefined"){A=50}B.left=(F.offsetLeft+F.offsetWidth-A)+"px"}B.top=(F.offsetTop+F.offsetHeight)+"px"};Calendar.showYearsCombo=function(E){var A=Calendar._C;if(!A){return false}var A=A;var C=A.activeDiv;var F=A.yearsCombo;if(A.hilitedYear){Calendar.removeClass(A.hilitedYear,"hilite")}if(A.activeYear){Calendar.removeClass(A.activeYear,"active")}A.activeYear=null;var B=A.date.getFullYear()+(E?1:-1);var I=F.firstChild;var H=false;for(var D=12;D>0;--D){if(B>=A.minYear&&B<=A.maxYear){I.innerHTML=B;I.year=B;I.style.display="block";H=true}else{I.style.display="none"}I=I.nextSibling;B+=E?A.yearStep:-A.yearStep}if(H){var J=F.style;J.display="block";if(C.navtype<0){J.left=C.offsetLeft+"px"}else{var G=F.offsetWidth;if(typeof G=="undefined"){G=50}J.left=(C.offsetLeft+C.offsetWidth-G)+"px"}J.top=(C.offsetTop+C.offsetHeight)+"px"}};Calendar.tableMouseUp=function(ev){var cal=Calendar._C;if(!cal){return false}if(cal.timeout){clearTimeout(cal.timeout)}var el=cal.activeDiv;if(!el){return false}var target=Calendar.getTargetElement(ev);ev||(ev=window.event);Calendar.removeClass(el,"active");if(target==el||target.parentNode==el){Calendar.cellClick(el,ev)}var mon=Calendar.findMonth(target);var date=null;if(mon){date=new Date(cal.date);if(mon.month!=date.getMonth()){date.setMonth(mon.month);cal.setDate(date);cal.dateClicked=false;cal.callHandler()}}else{var year=Calendar.findYear(target);if(year){date=new Date(cal.date);if(year.year!=date.getFullYear()){date.setFullYear(year.year);cal.setDate(date);cal.dateClicked=false;cal.callHandler()}}}with(Calendar){removeEvent(document,"mouseup",tableMouseUp);removeEvent(document,"mouseover",tableMouseOver);removeEvent(document,"mousemove",tableMouseOver);cal._hideCombos();_C=null;return stopEvent(ev)}};Calendar.tableMouseOver=function(L){var A=Calendar._C;if(!A){return }var C=A.activeDiv;var B=Calendar.getTargetElement(L);if(B==C||B.parentNode==C){Calendar.addClass(C,"hilite active");Calendar.addClass(C.parentNode,"rowhilite")}else{if(typeof C.navtype=="undefined"||(C.navtype!=50&&(C.navtype==0||Math.abs(C.navtype)>2))){Calendar.removeClass(C,"active")}Calendar.removeClass(C,"hilite");Calendar.removeClass(C.parentNode,"rowhilite")}L||(L=window.event);if(C.navtype==50&&B!=C){var M=Calendar.getAbsolutePos(C);var O=C.offsetWidth;var N=L.clientX;var P;var K=true;if(N>M.x+O){P=N-M.x-O;K=false}else{P=M.x-N}if(P<0){P=0}var F=C._range;var I=C._current;var G=Math.floor(P/10)%F.length;for(var E=F.length;--E>=0;){if(F[E]==I){break}}while(G-->0){if(K){if(--E<0){E=F.length-1}}else{if(++E>=F.length){E=0}}}var H=F[E];C.innerHTML=H;A.onUpdateTime()}var D=Calendar.findMonth(B);if(D){if(D.month!=A.date.getMonth()){if(A.hilitedMonth){Calendar.removeClass(A.hilitedMonth,"hilite")}Calendar.addClass(D,"hilite");A.hilitedMonth=D}else{if(A.hilitedMonth){Calendar.removeClass(A.hilitedMonth,"hilite")}}}else{if(A.hilitedMonth){Calendar.removeClass(A.hilitedMonth,"hilite")}var J=Calendar.findYear(B);if(J){if(J.year!=A.date.getFullYear()){if(A.hilitedYear){Calendar.removeClass(A.hilitedYear,"hilite")}Calendar.addClass(J,"hilite");A.hilitedYear=J}else{if(A.hilitedYear){Calendar.removeClass(A.hilitedYear,"hilite")}}}else{if(A.hilitedYear){Calendar.removeClass(A.hilitedYear,"hilite")}}}return Calendar.stopEvent(L)};Calendar.tableMouseDown=function(A){if(Calendar.getTargetElement(A)==Calendar.getElement(A)){return Calendar.stopEvent(A)}};Calendar.calDragIt=function(B){var C=Calendar._C;if(!(C&&C.dragging)){return false}var E;var D;if(Calendar.is_ie){D=window.event.clientY+document.body.scrollTop;E=window.event.clientX+document.body.scrollLeft}else{E=B.pageX;D=B.pageY}C.hideShowCovered();var A=C.element.style;A.left=(E-C.xOffs)+"px";A.top=(D-C.yOffs)+"px";return Calendar.stopEvent(B)};Calendar.calDragEnd=function(ev){var cal=Calendar._C;if(!cal){return false}cal.dragging=false;with(Calendar){removeEvent(document,"mousemove",calDragIt);removeEvent(document,"mouseup",calDragEnd);tableMouseUp(ev)}cal.hideShowCovered()};Calendar.dayMouseDown=function(ev){var el=Calendar.getElement(ev);if(el.disabled){return false}var cal=el.calendar;cal.activeDiv=el;Calendar._C=cal;if(el.navtype!=300){with(Calendar){if(el.navtype==50){el._current=el.innerHTML;addEvent(document,"mousemove",tableMouseOver)}else{addEvent(document,Calendar.is_ie5?"mousemove":"mouseover",tableMouseOver)}addClass(el,"hilite active");addEvent(document,"mouseup",tableMouseUp)}}else{if(cal.isPopup){cal._dragStart(ev)}}if(el.navtype==-1||el.navtype==1){if(cal.timeout){clearTimeout(cal.timeout)}cal.timeout=setTimeout("Calendar.showMonthsCombo()",250)}else{if(el.navtype==-2||el.navtype==2){if(cal.timeout){clearTimeout(cal.timeout)}cal.timeout=setTimeout((el.navtype>0)?"Calendar.showYearsCombo(true)":"Calendar.showYearsCombo(false)",250)}else{cal.timeout=null}}return Calendar.stopEvent(ev)};Calendar.dayMouseDblClick=function(A){Calendar.cellClick(Calendar.getElement(A),A||window.event);if(Calendar.is_ie){document.selection.empty()}};Calendar.dayMouseOver=function(B){var A=Calendar.getElement(B);if(Calendar.isRelated(A,B)||Calendar._C||A.disabled){return false}if(A.ttip){if(A.ttip.substr(0,1)=="_"){A.ttip=A.caldate.print(A.calendar.ttDateFormat)+A.ttip.substr(1)}A.calendar.tooltips.innerHTML=A.ttip}if(A.navtype!=300){Calendar.addClass(A,"hilite");if(A.caldate){Calendar.addClass(A.parentNode,"rowhilite")}}return Calendar.stopEvent(B)};Calendar.dayMouseOut=function(ev){with(Calendar){var el=getElement(ev);if(isRelated(el,ev)||_C||el.disabled){return false}removeClass(el,"hilite");if(el.caldate){removeClass(el.parentNode,"rowhilite")}if(el.calendar){el.calendar.tooltips.innerHTML=_TT["SEL_DATE"]}return stopEvent(ev)}};Calendar.cellClick=function(C,N){var B=C.calendar;var F=false;var I=false;var D=null;if(typeof C.navtype=="undefined"){if(B.currentDateEl){Calendar.removeClass(B.currentDateEl,"selected");Calendar.addClass(C,"selected");F=(B.currentDateEl==C);if(!F){B.currentDateEl=C}}B.date.setDateOnly(C.caldate);D=B.date;var L=!(B.dateClicked=!C.otherMonth);if(!L&&!B.currentDateEl){B._toggleMultipleDate(new Date(D))}else{I=!C.disabled}if(L){B._init(B.firstDayOfWeek,D)}}else{if(C.navtype==200){Calendar.removeClass(C,"hilite");B.callCloseHandler();return }D=new Date(B.date);if(C.navtype==0){D.setDateOnly(new Date())}B.dateClicked=false;var M=D.getFullYear();var E=D.getMonth();function A(Q){var R=D.getDate();var P=D.getMonthDays(Q);if(R>P){D.setDate(P)}D.setMonth(Q)}switch(C.navtype){case 400:Calendar.removeClass(C,"hilite");var O=Calendar._TT["ABOUT"];if(typeof O!="undefined"){O+=B.showsTime?Calendar._TT["ABOUT_TIME"]:""}else{O="Help and about box text is not translated into this language.\nIf you know this language and you feel generous please update\nthe corresponding file in \"lang\" subdir to match calendar-en.js\nand send it back to <mihai_bazon@yahoo.com> to get it into the distribution  ;-)\n\nThank you!\nhttp://dynarch.com/mishoo/calendar.epl\n"}alert(O);return ;case -2:if(M>B.minYear){D.setFullYear(M-1)}break;case -1:if(E>0){A(E-1)}else{if(M-->B.minYear){D.setFullYear(M);A(11)}}break;case 1:if(E<11){A(E+1)}else{if(M<B.maxYear){D.setFullYear(M+1);A(0)}}break;case 2:if(M<B.maxYear){D.setFullYear(M+1)}break;case 100:B.setFirstDayOfWeek(C.fdow);return ;case 50:var H=C._range;var K=C.innerHTML;for(var G=H.length;--G>=0;){if(H[G]==K){break}}if(N&&N.shiftKey){if(--G<0){G=H.length-1}}else{if(++G>=H.length){G=0}}var J=H[G];C.innerHTML=J;B.onUpdateTime();return ;case 0:if((typeof B.getDateStatus=="function")&&B.getDateStatus(D,D.getFullYear(),D.getMonth(),D.getDate())){return false}break}if(!D.equalsTo(B.date)){B.setDate(D);I=true}else{if(C.navtype==0){I=F=true}}}if(I){N&&B.callHandler()}if(F){Calendar.removeClass(C,"hilite");N&&B.callCloseHandler()}};Calendar.prototype.create=function(L){var M=null;if(!L){M=document.getElementsByTagName("body")[0];this.isPopup=true}else{M=L;this.isPopup=false}this.date=this.dateStr?new Date(this.dateStr):new Date();var O=Calendar.createElement("table");this.table=O;O.cellSpacing=0;O.cellPadding=0;O.calendar=this;Calendar.addEvent(O,"mousedown",Calendar.tableMouseDown);var B=Calendar.createElement("div");this.element=B;B.className="calendar";if(this.isPopup){B.style.position="absolute";B.style.display="none"}B.appendChild(O);var I=Calendar.createElement("thead",O);var K=null;var P=null;var A=this;var E=function(S,R,Q){K=Calendar.createElement("td",P);K.colSpan=R;K.className="button";if(Q!=0&&Math.abs(Q)<=2){K.className+=" nav"}Calendar._add_evs(K);K.calendar=A;K.navtype=Q;K.innerHTML="<div unselectable='on'>"+S+"</div>";return K};P=Calendar.createElement("tr",I);var C=6;(this.isPopup)&&--C;(this.weekNumbers)&&++C;E("?",1,400).ttip=Calendar._TT["INFO"];this.title=E("",C,300);this.title.className="title";if(this.isPopup){this.title.ttip=Calendar._TT["DRAG_TO_MOVE"];this.title.style.cursor="move";E("&#x00d7;",1,200).ttip=Calendar._TT["CLOSE"]}P=Calendar.createElement("tr",I);P.className="headrow";this._nav_py=E("&#x00ab;",1,-2);this._nav_py.ttip=Calendar._TT["PREV_YEAR"];this._nav_pm=E("&#x2039;",1,-1);this._nav_pm.ttip=Calendar._TT["PREV_MONTH"];this._nav_now=E(Calendar._TT["TODAY"],this.weekNumbers?4:3,0);this._nav_now.ttip=Calendar._TT["GO_TODAY"];this._nav_nm=E("&#x203a;",1,1);this._nav_nm.ttip=Calendar._TT["NEXT_MONTH"];this._nav_ny=E("&#x00bb;",1,2);this._nav_ny.ttip=Calendar._TT["NEXT_YEAR"];P=Calendar.createElement("tr",I);P.className="daynames";if(this.weekNumbers){K=Calendar.createElement("td",P);K.className="name wn";K.innerHTML=Calendar._TT["WK"]}for(var H=7;H>0;--H){K=Calendar.createElement("td",P);if(!H){K.navtype=100;K.calendar=this;Calendar._add_evs(K)}}this.firstdayname=(this.weekNumbers)?P.firstChild.nextSibling:P.firstChild;this._displayWeekdays();var G=Calendar.createElement("tbody",O);this.tbody=G;for(H=6;H>0;--H){P=Calendar.createElement("tr",G);if(this.weekNumbers){K=Calendar.createElement("td",P)}for(var F=7;F>0;--F){K=Calendar.createElement("td",P);K.calendar=this;Calendar._add_evs(K)}}if(this.showsTime){P=Calendar.createElement("tr",G);P.className="time";K=Calendar.createElement("td",P);K.className="time";K.colSpan=2;K.innerHTML=Calendar._TT["TIME"]||"&nbsp;";K=Calendar.createElement("td",P);K.className="time";K.colSpan=this.weekNumbers?4:3;(function(){function X(b,f,a,e){var c=Calendar.createElement("span",K);c.className=b;c.innerHTML=f;c.calendar=A;c.ttip=Calendar._TT["TIME_PART"];c.navtype=50;c._range=[];if(typeof a!="number"){c._range=a}else{for(var d=a;d<=e;++d){var Z;if(d<10&&e>=10){Z="0"+d}else{Z=""+d}c._range[c._range.length]=Z}}Calendar._add_evs(c);return c}var W=A.date.getHours();var Q=A.date.getMinutes();var Y=!A.time24;var R=(W>12);if(Y&&R){W-=12}var U=X("hour",W,Y?1:0,Y?12:23);var T=Calendar.createElement("span",K);T.innerHTML=":";T.className="colon";var S=X("minute",Q,0,59);var V=null;K=Calendar.createElement("td",P);K.className="time";K.colSpan=2;if(Y){V=X("ampm",R?"pm":"am",["am","pm"])}else{K.innerHTML="&nbsp;"}A.onSetTime=function(){var a,Z=this.date.getHours(),b=this.date.getMinutes();if(Y){a=(Z>=12);if(a){Z-=12}if(Z==0){Z=12}V.innerHTML=a?"pm":"am"}U.innerHTML=(Z<10)?("0"+Z):Z;S.innerHTML=(b<10)?("0"+b):b};A.onUpdateTime=function(){var a=this.date;var b=parseInt(U.innerHTML,10);if(Y){if(/pm/i.test(V.innerHTML)&&b<12){b+=12}else{if(/am/i.test(V.innerHTML)&&b==12){b=0}}}var c=a.getDate();var Z=a.getMonth();var e=a.getFullYear();a.setHours(b);a.setMinutes(parseInt(S.innerHTML,10));a.setFullYear(e);a.setMonth(Z);a.setDate(c);this.dateClicked=false;this.callHandler()}})()}else{this.onSetTime=this.onUpdateTime=function(){}}var J=Calendar.createElement("tfoot",O);P=Calendar.createElement("tr",J);P.className="footrow";K=E(Calendar._TT["SEL_DATE"],this.weekNumbers?8:7,300);K.className="ttip";if(this.isPopup){K.ttip=Calendar._TT["DRAG_TO_MOVE"];K.style.cursor="move"}this.tooltips=K;B=Calendar.createElement("div",this.element);this.monthsCombo=B;B.className="combo";for(H=0;H<Calendar._MN.length;++H){var D=Calendar.createElement("div");D.className=Calendar.is_ie?"label-IEfix":"label";D.month=H;D.innerHTML=Calendar._SMN[H];B.appendChild(D)}B=Calendar.createElement("div",this.element);this.yearsCombo=B;B.className="combo";for(H=12;H>0;--H){var N=Calendar.createElement("div");N.className=Calendar.is_ie?"label-IEfix":"label";B.appendChild(N)}this._init(this.firstDayOfWeek,this.date);M.appendChild(this.element)};Calendar._keyEvent=function(L){var A=window._dynarch_popupCalendar;if(!A||A.multiple){return false}(Calendar.is_ie)&&(L=window.event);var I=(Calendar.is_ie||L.type=="keypress"),J=L.keyCode;if(L.ctrlKey){switch(J){case 37:I&&Calendar.cellClick(A._nav_pm);break;case 38:I&&Calendar.cellClick(A._nav_py);break;case 39:I&&Calendar.cellClick(A._nav_nm);break;case 40:I&&Calendar.cellClick(A._nav_ny);break;default:return false}}else{switch(J){case 32:Calendar.cellClick(A._nav_now);break;case 27:I&&A.callCloseHandler();break;case 37:case 38:case 39:case 40:if(I){var E,N,M,F,C,D;E=J==37||J==38;D=(J==37||J==39)?1:7;function B(){C=A.currentDateEl;var K=C.pos;N=K&15;M=K>>4;F=A.ar_days[M][N]}B();function G(){var K=new Date(A.date);K.setDate(K.getDate()-D);A.setDate(K)}function H(){var K=new Date(A.date);K.setDate(K.getDate()+D);A.setDate(K)}while(1){switch(J){case 37:if(--N>=0){F=A.ar_days[M][N]}else{N=6;J=38;continue}break;case 38:if(--M>=0){F=A.ar_days[M][N]}else{G();B()}break;case 39:if(++N<7){F=A.ar_days[M][N]}else{N=0;J=40;continue}break;case 40:if(++M<A.ar_days.length){F=A.ar_days[M][N]}else{H();B()}break}break}if(F){if(!F.disabled){Calendar.cellClick(F)}else{if(E){G()}else{H()}}}}break;case 13:if(I){Calendar.cellClick(A.currentDateEl,L)}break;default:return false}}return Calendar.stopEvent(L)};Calendar.prototype._init=function(K,T){var S=new Date(),N=S.getFullYear(),Y=S.getMonth(),C=S.getDate();this.table.style.visibility="hidden";var I=T.getFullYear();if(I<this.minYear){I=this.minYear;T.setFullYear(I)}else{if(I>this.maxYear){I=this.maxYear;T.setFullYear(I)}}this.firstDayOfWeek=K;this.date=new Date(T);var V=T.getMonth();var Z=T.getDate();var X=T.getMonthDays();T.setDate(1);var M=(T.getDay()-this.firstDayOfWeek)%7;if(M<0){M+=7}T.setDate(-M);T.setDate(T.getDate()+1);var F=this.tbody.firstChild;var J=Calendar._SMN[V];var U=this.ar_days=new Array();var L=Calendar._TT["WEEKEND"];var E=this.multiple?(this.datesCells={}):null;for(var P=0;P<6;++P,F=F.nextSibling){var B=F.firstChild;if(this.weekNumbers){B.className="day wn";B.innerHTML=T.getWeekNumber();B=B.nextSibling}F.className="daysrow";var R=false,G,D=U[P]=[];for(var O=0;O<7;++O,B=B.nextSibling,T.setDate(G+1)){G=T.getDate();var H=T.getDay();B.className="day";B.pos=P<<4|O;D[O]=B;var W=(T.getMonth()==V);if(!W){if(this.showsOtherMonths){B.className+=" othermonth";B.otherMonth=true}else{B.className="emptycell";B.innerHTML="&nbsp;";B.disabled=true;continue}}else{B.otherMonth=false;R=true}B.disabled=false;B.innerHTML=this.getDateText?this.getDateText(T,G):G;if(E){E[T.print("%Y%m%d")]=B}if(this.getDateStatus){var Q=this.getDateStatus(T,I,V,G);if(this.getDateToolTip){var A=this.getDateToolTip(T,I,V,G);if(A){B.title=A}}if(Q===true){B.className+=" disabled";B.disabled=true}else{if(/disabled/i.test(Q)){B.disabled=true}B.className+=" "+Q}}if(!B.disabled){B.caldate=new Date(T);B.ttip="_";if(!this.multiple&&W&&G==Z&&this.hiliteToday){B.className+=" selected";this.currentDateEl=B}if(T.getFullYear()==N&&T.getMonth()==Y&&G==C){B.className+=" today";B.ttip+=Calendar._TT["PART_TODAY"]}if(L.indexOf(H.toString())!=-1){B.className+=B.otherMonth?" oweekend":" weekend"}}}if(!(R||this.showsOtherMonths)){F.className="emptyrow"}}this.title.innerHTML=Calendar._MN[V]+", "+I;this.onSetTime();this.table.style.visibility="visible";this._initMultipleDates()};Calendar.prototype._initMultipleDates=function(){if(this.multiple){for(var B in this.multiple){var A=this.datesCells[B];var C=this.multiple[B];if(!C){continue}if(A){A.className+=" selected"}}}};Calendar.prototype._toggleMultipleDate=function(B){if(this.multiple){var C=B.print("%Y%m%d");var A=this.datesCells[C];if(A){var D=this.multiple[C];if(!D){Calendar.addClass(A,"selected");this.multiple[C]=B}else{Calendar.removeClass(A,"selected");delete this.multiple[C]}}}};Calendar.prototype.setDateToolTipHandler=function(A){this.getDateToolTip=A};Calendar.prototype.setDate=function(A){if(!A.equalsTo(this.date)){this._init(this.firstDayOfWeek,A)}};Calendar.prototype.refresh=function(){this._init(this.firstDayOfWeek,this.date)};Calendar.prototype.setFirstDayOfWeek=function(A){this._init(A,this.date);this._displayWeekdays()};Calendar.prototype.setDateStatusHandler=Calendar.prototype.setDisabledHandler=function(A){this.getDateStatus=A};Calendar.prototype.setRange=function(A,B){this.minYear=A;this.maxYear=B};Calendar.prototype.callHandler=function(){if(this.onSelected){this.onSelected(this,this.date.print(this.dateFormat))}};Calendar.prototype.callCloseHandler=function(){if(this.onClose){this.onClose(this)}this.hideShowCovered()};Calendar.prototype.destroy=function(){var A=this.element.parentNode;A.removeChild(this.element);Calendar._C=null;window._dynarch_popupCalendar=null};Calendar.prototype.reparent=function(B){var A=this.element;A.parentNode.removeChild(A);B.appendChild(A)};Calendar._checkCalendar=function(B){var C=window._dynarch_popupCalendar;if(!C){return false}var A=Calendar.is_ie?Calendar.getElement(B):Calendar.getTargetElement(B);for(;A!=null&&A!=C.element;A=A.parentNode){}if(A==null){window._dynarch_popupCalendar.callCloseHandler();return Calendar.stopEvent(B)}};Calendar.prototype.show=function(){var E=this.table.getElementsByTagName("tr");for(var D=E.length;D>0;){var F=E[--D];Calendar.removeClass(F,"rowhilite");var C=F.getElementsByTagName("td");for(var B=C.length;B>0;){var A=C[--B];Calendar.removeClass(A,"hilite");Calendar.removeClass(A,"active")}}this.element.style.display="block";this.hidden=false;if(this.isPopup){window._dynarch_popupCalendar=this;Calendar.addEvent(document,"keydown",Calendar._keyEvent);Calendar.addEvent(document,"keypress",Calendar._keyEvent);Calendar.addEvent(document,"mousedown",Calendar._checkCalendar)}this.hideShowCovered()};Calendar.prototype.hide=function(){if(this.isPopup){Calendar.removeEvent(document,"keydown",Calendar._keyEvent);Calendar.removeEvent(document,"keypress",Calendar._keyEvent);Calendar.removeEvent(document,"mousedown",Calendar._checkCalendar)}this.element.style.display="none";this.hidden=true;this.hideShowCovered()};Calendar.prototype.showAt=function(A,C){var B=this.element.style;B.left=A+"px";B.top=C+"px";this.show()};Calendar.prototype.showAtElement=function(C,D){var A=this;var E=Calendar.getAbsolutePos(C);if(!D||typeof D!="string"){this.showAt(E.x,E.y+C.offsetHeight);return true}function B(I){if(I.x<0){I.x=0}if(I.y<0){I.y=0}var J=document.createElement("div");var H=J.style;H.position="absolute";H.right=H.bottom=H.width=H.height="0px";document.body.appendChild(J);var G=Calendar.getAbsolutePos(J);document.body.removeChild(J);if(Calendar.is_ie){G.y+=document.body.scrollTop;G.x+=document.body.scrollLeft}else{G.y+=window.scrollY;G.x+=window.scrollX}var F=I.x+I.width-G.x;if(F>0){I.x-=F}F=I.y+I.height-G.y;if(F>0){I.y-=F}}this.element.style.display="block";Calendar.continuation_for_the_fucking_khtml_browser=function(){var G=A.element.offsetWidth;var I=A.element.offsetHeight;A.element.style.display="none";var H=D.substr(0,1);var F="l";if(D.length>1){F=D.substr(1,1)}switch(H){case"T":E.y-=I;break;case"B":E.y+=C.offsetHeight;break;case"C":E.y+=(C.offsetHeight-I)/2;break;case"t":E.y+=C.offsetHeight-I;break;case"b":break}switch(F){case"L":E.x-=G;break;case"R":E.x+=C.offsetWidth;break;case"C":E.x+=(C.offsetWidth-G)/2;break;case"l":E.x+=C.offsetWidth-G;break;case"r":break}E.width=G;E.height=I+40;A.monthsCombo.style.display="none";B(E);A.showAt(E.x,E.y)};if(Calendar.is_khtml){setTimeout("Calendar.continuation_for_the_fucking_khtml_browser()",10)}else{Calendar.continuation_for_the_fucking_khtml_browser()}};Calendar.prototype.setDateFormat=function(A){this.dateFormat=A};Calendar.prototype.setTtDateFormat=function(A){this.ttDateFormat=A};Calendar.prototype.parseDate=function(B,A){if(!A){A=this.dateFormat}this.setDate(Date.parseDate(B,A))};Calendar.prototype.hideShowCovered=function(){if(!Calendar.is_ie&&!Calendar.is_opera){return }function A(R){var Q=R.style.visibility;if(!Q){if(document.defaultView&&typeof (document.defaultView.getComputedStyle)=="function"){if(!Calendar.is_khtml){Q=document.defaultView.getComputedStyle(R,"").getPropertyValue("visibility")}else{Q=""}}else{if(R.currentStyle){Q=R.currentStyle.visibility}else{Q=""}}}return Q}var P=new Array("applet","iframe","select");var C=this.element;var B=Calendar.getAbsolutePos(C);var F=B.x;var D=C.offsetWidth+F;var O=B.y;var N=C.offsetHeight+O;for(var H=P.length;H>0;){var G=document.getElementsByTagName(P[--H]);var E=null;for(var J=G.length;J>0;){E=G[--J];B=Calendar.getAbsolutePos(E);var M=B.x;var L=E.offsetWidth+M;var K=B.y;var I=E.offsetHeight+K;if(this.hidden||(M>D)||(L<F)||(K>N)||(I<O)){if(!E.__msh_save_visibility){E.__msh_save_visibility=A(E)}E.style.visibility=E.__msh_save_visibility}else{if(!E.__msh_save_visibility){E.__msh_save_visibility=A(E)}E.style.visibility="hidden"}}}};Calendar.prototype._displayWeekdays=function(){var B=this.firstDayOfWeek;var A=this.firstdayname;var D=Calendar._TT["WEEKEND"];for(var C=0;C<7;++C){A.className="day name";var E=(C+B)%7;if(C){A.ttip=Calendar._TT["DAY_FIRST"].replace("%s",Calendar._DN[E]);A.navtype=100;A.calendar=this;A.fdow=E;Calendar._add_evs(A)}if(D.indexOf(E.toString())!=-1){Calendar.addClass(A,"weekend")}A.innerHTML=Calendar._SDN[(C+B)%7];A=A.nextSibling}};Calendar.prototype._hideCombos=function(){this.monthsCombo.style.display="none";this.yearsCombo.style.display="none"};Calendar.prototype._dragStart=function(ev){if(this.dragging){return }this.dragging=true;var posX;var posY;if(Calendar.is_ie){posY=window.event.clientY+document.body.scrollTop;posX=window.event.clientX+document.body.scrollLeft}else{posY=ev.clientY+window.scrollY;posX=ev.clientX+window.scrollX}var st=this.element.style;this.xOffs=posX-parseInt(st.left);this.yOffs=posY-parseInt(st.top);with(Calendar){addEvent(document,"mousemove",calDragIt);addEvent(document,"mouseup",calDragEnd)}};Date._MD=new Array(31,28,31,30,31,30,31,31,30,31,30,31);Date.SECOND=1000;Date.MINUTE=60*Date.SECOND;Date.HOUR=60*Date.MINUTE;Date.DAY=24*Date.HOUR;Date.WEEK=7*Date.DAY;Date.parseDate=function(H,A){var G=new Date();var J=0;var B=-1;var F=0;var K=H.split(/\W+/);var I=A.match(/%./g);var E=0,D=0;var L=0;var C=0;for(E=0;E<K.length;++E){if(!K[E]){continue}switch(I[E]){case"%d":case"%e":F=parseInt(K[E],10);break;case"%m":B=parseInt(K[E],10)-1;break;case"%Y":case"%y":J=parseInt(K[E],10);(J<100)&&(J+=(J>29)?1900:2000);break;case"%b":case"%B":for(D=0;D<12;++D){if(Calendar._MN[D].substr(0,K[E].length).toLowerCase()==K[E].toLowerCase()){B=D;break}}break;case"%H":case"%I":case"%k":case"%l":L=parseInt(K[E],10);break;case"%P":case"%p":if(/pm/i.test(K[E])&&L<12){L+=12}else{if(/am/i.test(K[E])&&L>=12){L-=12}}break;case"%M":C=parseInt(K[E],10);break}}if(isNaN(J)){J=G.getFullYear()}if(isNaN(B)){B=G.getMonth()}if(isNaN(F)){F=G.getDate()}if(isNaN(L)){L=G.getHours()}if(isNaN(C)){C=G.getMinutes()}if(J!=0&&B!=-1&&F!=0){return new Date(J,B,F,L,C,0)}J=0;B=-1;F=0;for(E=0;E<K.length;++E){if(K[E].search(/[a-zA-Z]+/)!=-1){var M=-1;for(D=0;D<12;++D){if(Calendar._MN[D].substr(0,K[E].length).toLowerCase()==K[E].toLowerCase()){M=D;break}}if(M!=-1){if(B!=-1){F=B+1}B=M}}else{if(parseInt(K[E],10)<=12&&B==-1){B=K[E]-1}else{if(parseInt(K[E],10)>31&&J==0){J=parseInt(K[E],10);(J<100)&&(J+=(J>29)?1900:2000)}else{if(F==0){F=K[E]}}}}}if(J==0){J=G.getFullYear()}if(B!=-1&&F!=0){return new Date(J,B,F,L,C,0)}return G};Date.prototype.getMonthDays=function(B){var A=this.getFullYear();if(typeof B=="undefined"){B=this.getMonth()}if(((0==(A%4))&&((0!=(A%100))||(0==(A%400))))&&B==1){return 29}else{return Date._MD[B]}};Date.prototype.getDayOfYear=function(){var A=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0);var C=new Date(this.getFullYear(),0,0,0,0,0);var B=A-C;return Math.floor(B/Date.DAY)};Date.prototype.getWeekNumber=function(){var C=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0);var B=C.getDay();C.setDate(C.getDate()-(B+6)%7+3);var A=C.valueOf();C.setMonth(0);C.setDate(4);return Math.round((A-C.valueOf())/(7*86400000))+1};Date.prototype.equalsTo=function(A){return((this.getFullYear()==A.getFullYear())&&(this.getMonth()==A.getMonth())&&(this.getDate()==A.getDate())&&(this.getHours()==A.getHours())&&(this.getMinutes()==A.getMinutes()))};Date.prototype.setDateOnly=function(A){var B=new Date(A);this.setDate(1);this.setFullYear(B.getFullYear());this.setMonth(B.getMonth());this.setDate(B.getDate())};Date.prototype.print=function(I){var A=this.getMonth();var H=this.getDate();var J=this.getFullYear();var M=this.getWeekNumber();var L=this.getDay();var Q={};var N=this.getHours();var B=(N>=12);var F=(B)?(N-12):N;var P=this.getDayOfYear();if(F==0){F=12}var C=this.getMinutes();var G=this.getSeconds();Q["%a"]=Calendar._SDN[L];Q["%A"]=Calendar._DN[L];Q["%b"]=Calendar._SMN[A];Q["%B"]=Calendar._MN[A];Q["%C"]=1+Math.floor(J/100);Q["%d"]=(H<10)?("0"+H):H;Q["%e"]=H;Q["%H"]=(N<10)?("0"+N):N;Q["%I"]=(F<10)?("0"+F):F;Q["%j"]=(P<100)?((P<10)?("00"+P):("0"+P)):P;Q["%k"]=N;Q["%l"]=F;Q["%m"]=(A<9)?("0"+(1+A)):(1+A);Q["%M"]=(C<10)?("0"+C):C;Q["%n"]="\n";Q["%p"]=B?"PM":"AM";Q["%P"]=B?"pm":"am";Q["%s"]=Math.floor(this.getTime()/1000);Q["%S"]=(G<10)?("0"+G):G;Q["%t"]="\t";Q["%U"]=Q["%W"]=Q["%V"]=(M<10)?("0"+M):M;Q["%u"]=L+1;Q["%w"]=L;Q["%y"]=(""+J).substr(2,2);Q["%Y"]=J;Q["%%"]="%";var O=/%./g;if(!Calendar.is_ie5&&!Calendar.is_khtml){return I.replace(O,function(R){return Q[R]||R})}var K=I.match(O);for(var E=0;E<K.length;E++){var D=Q[K[E]];if(D){O=new RegExp(K[E],"g");I=I.replace(O,D)}}return I};Date.prototype.__msh_oldSetFullYear=Date.prototype.setFullYear;Date.prototype.setFullYear=function(B){var A=new Date(this);A.__msh_oldSetFullYear(B);if(A.getMonth()!=this.getMonth()){this.setDate(28)}this.__msh_oldSetFullYear(B)};window._dynarch_popupCalendar=null;Calendar.setup=function(G){function F(H,I){if(typeof G[H]=="undefined"){G[H]=I}}F("inputField",null);F("displayArea",null);F("button",null);F("eventName","click");F("ifFormat","%Y/%m/%d");F("daFormat","%Y/%m/%d");F("singleClick",true);F("disableFunc",null);F("dateStatusFunc",G["disableFunc"]);F("dateText",null);F("firstDay",null);F("align","Br");F("range",[1900,2999]);F("weekNumbers",true);F("flat",null);F("flatCallback",null);F("onSelect",null);F("onClose",null);F("onUpdate",null);F("date",null);F("showsTime",false);F("timeFormat","24");F("electric",true);F("step",2);F("position",null);F("cache",false);F("showOthers",false);F("multiple",null);var D=["inputField","displayArea","button"];for(var C in D){if(typeof G[D[C]]=="string"){G[D[C]]=document.getElementById(G[D[C]])}}if(!(G.flat||G.multiple||G.inputField||G.displayArea||G.button)){alert("Calendar.setup:\n  Nothing to setup (no fields found).  Please check your code");return false}function B(J){var I=J.params;var H=(J.dateClicked||I.electric);if(H&&I.inputField){I.inputField.value=J.date.print(I.ifFormat);if(typeof I.inputField.onchange=="function"){I.inputField.onchange()}}if(H&&I.displayArea){I.displayArea.innerHTML=J.date.print(I.daFormat)}if(H&&typeof I.onUpdate=="function"){I.onUpdate(J)}if(H&&I.flat){if(typeof I.flatCallback=="function"){I.flatCallback(J)}}if(H&&I.singleClick&&J.dateClicked){J.callCloseHandler()}}if(G.flat!=null){if(typeof G.flat=="string"){G.flat=document.getElementById(G.flat)}if(!G.flat){alert("Calendar.setup:\n  Flat specified but can't find parent.");return false}var E=new Calendar(G.firstDay,G.date,G.onSelect||B);E.showsOtherMonths=G.showOthers;E.showsTime=G.showsTime;E.time24=(G.timeFormat=="24");E.params=G;E.weekNumbers=G.weekNumbers;E.setRange(G.range[0],G.range[1]);E.setDateStatusHandler(G.dateStatusFunc);E.getDateText=G.dateText;if(G.ifFormat){E.setDateFormat(G.ifFormat)}if(G.inputField&&typeof G.inputField.value=="string"){E.parseDate(G.inputField.value)}E.create(G.flat);E.show();return false}var A=G.button||G.displayArea||G.inputField;A["on"+G.eventName]=function(){var I=G.inputField||G.displayArea;var J=G.inputField?G.ifFormat:G.daFormat;var N=false;var L=window.calendar;if(I){G.date=Date.parseDate(I.value||I.innerHTML,J)}if(!(L&&G.cache)){window.calendar=L=new Calendar(G.firstDay,G.date,G.onSelect||B,G.onClose||function(O){O.hide()});L.showsTime=G.showsTime;L.time24=(G.timeFormat=="24");L.weekNumbers=G.weekNumbers;N=true}else{if(G.date){L.setDate(G.date)}L.hide()}if(G.multiple){L.multiple={};for(var H=G.multiple.length;--H>=0;){var M=G.multiple[H];var K=M.print("%Y%m%d");L.multiple[K]=M}}L.showsOtherMonths=G.showOthers;L.yearStep=G.step;L.setRange(G.range[0],G.range[1]);L.params=G;L.setDateStatusHandler(G.dateStatusFunc);L.getDateText=G.dateText;L.setDateFormat(J);if(N){L.create()}L.refresh();if(!G.position){L.showAtElement(G.button||G.displayArea||G.inputField,G.align)}else{L.showAt(G.position[0],G.position[1])}return false};return E};Calendar._DN=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday");Calendar._SDN=new Array("Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun");Calendar._FD=0;Calendar._MN=new Array("January","February","March","April","May","June","July","August","September","October","November","December");Calendar._SMN=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec");Calendar._TT={};Calendar._TT["INFO"]="About the calendar";Calendar._TT["ABOUT"]="DHTML Date/Time Selector\n(c) dynarch.com 2002-2005 / Author: Mihai Bazon\nFor latest version visit: http://www.dynarch.com/projects/calendar/\nDistributed under GNU LGPL.  See http://gnu.org/licenses/lgpl.html for details.\n\nDate selection:\n- Use the «, » buttons to select year\n- Use the "+String.fromCharCode(8249)+", "+String.fromCharCode(8250)+" buttons to select month\n- Hold mouse button on any of the above buttons for faster selection.";Calendar._TT["ABOUT_TIME"]="\n\nTime selection:\n- Click on any of the time parts to increase it\n- or Shift-click to decrease it\n- or click and drag for faster selection.";Calendar._TT["PREV_YEAR"]="Prev. year (hold for menu)";Calendar._TT["PREV_MONTH"]="Prev. month (hold for menu)";Calendar._TT["GO_TODAY"]="Go Today";Calendar._TT["NEXT_MONTH"]="Next month (hold for menu)";Calendar._TT["NEXT_YEAR"]="Next year (hold for menu)";Calendar._TT["SEL_DATE"]="Select date";Calendar._TT["DRAG_TO_MOVE"]="Drag to move";Calendar._TT["PART_TODAY"]=" (today)";Calendar._TT["DAY_FIRST"]="Display %s first";Calendar._TT["WEEKEND"]="0,6";Calendar._TT["CLOSE"]="Close";Calendar._TT["TODAY"]="Today";Calendar._TT["TIME_PART"]="(Shift-)Click or drag to change value";Calendar._TT["DEF_DATE_FORMAT"]="%Y-%m-%d";Calendar._TT["TT_DATE_FORMAT"]="%a, %b %e";Calendar._TT["WK"]="wk";Calendar._TT["TIME"]="Time:"